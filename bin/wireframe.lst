                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module wireframe
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _clear_screen
                                     13 	.globl _draw_line
                                     14 	.globl _draw_dot
                                     15 	.globl _screen_write
                                     16 	.globl _zvb_dma_start_transfer
                                     17 	.globl _frame
                                     18 	.globl _dma_descriptor
                                     19 	.globl _SCREEN
                                     20 	.globl _current_page2
                                     21 ;--------------------------------------------------------
                                     22 ; special function registers
                                     23 ;--------------------------------------------------------
                           000080    24 _zvb_config_ver_rev	=	0x0080
                           000081    25 _zvb_config_ver_min	=	0x0081
                           000082    26 _zvb_config_ver_maj	=	0x0082
                           00008E    27 _zvb_config_dev_idx	=	0x008e
                           00008F    28 _zvb_config_phys_addr	=	0x008f
                           000090    29 _zvb_ctrl_vpos_low	=	0x0090
                           000091    30 _zvb_ctrl_vpos_high	=	0x0091
                           000092    31 _zvb_ctrl_hpos_low	=	0x0092
                           000093    32 _zvb_ctrl_hpos_high	=	0x0093
                           000094    33 _zvb_ctrl_l0_scr_y_low	=	0x0094
                           000095    34 _zvb_ctrl_l0_scr_y_high	=	0x0095
                           000096    35 _zvb_ctrl_l0_scr_x_low	=	0x0096
                           000097    36 _zvb_ctrl_l0_scr_x_high	=	0x0097
                           000098    37 _zvb_ctrl_l1_scr_y_low	=	0x0098
                           000099    38 _zvb_ctrl_l1_scr_y_high	=	0x0099
                           00009A    39 _zvb_ctrl_l1_scr_x_low	=	0x009a
                           00009B    40 _zvb_ctrl_l1_scr_x_high	=	0x009b
                           00009C    41 _zvb_ctrl_video_mode	=	0x009c
                           00009D    42 _zvb_ctrl_status	=	0x009d
                           0000A0    43 _zvb_peri_text_print_char	=	0x00a0
                           0000A1    44 _zvb_peri_text_curs_y	=	0x00a1
                           0000A2    45 _zvb_peri_text_curs_x	=	0x00a2
                           0000A3    46 _zvb_peri_text_scroll_y	=	0x00a3
                           0000A4    47 _zvb_peri_text_scroll_x	=	0x00a4
                           0000A5    48 _zvb_peri_text_color	=	0x00a5
                           0000A6    49 _zvb_peri_text_curs_time	=	0x00a6
                           0000A7    50 _zvb_peri_text_curs_char	=	0x00a7
                           0000A8    51 _zvb_peri_text_curs_color	=	0x00a8
                           0000A9    52 _zvb_peri_text_ctrl	=	0x00a9
                           0000A1    53 _zvb_peri_spi_ctrl	=	0x00a1
                           0000A2    54 _zvb_peri_spi_clk_div	=	0x00a2
                           0000A3    55 _zvb_peri_spi_ram_len	=	0x00a3
                           0000A7    56 _zvb_peri_spi_fifo	=	0x00a7
                           0000A8    57 _zvb_peri_spi_array_0	=	0x00a8
                           0000A9    58 _zvb_peri_spi_array_1	=	0x00a9
                           0000AA    59 _zvb_peri_spi_array_2	=	0x00aa
                           0000AB    60 _zvb_peri_spi_array_3	=	0x00ab
                           0000AC    61 _zvb_peri_spi_array_4	=	0x00ac
                           0000AD    62 _zvb_peri_spi_array_5	=	0x00ad
                           0000AE    63 _zvb_peri_spi_array_6	=	0x00ae
                           0000AF    64 _zvb_peri_spi_array_7	=	0x00af
                           0000A0    65 _zvb_peri_crc_ctrl	=	0x00a0
                           0000A1    66 _zvb_peri_crc_data_in	=	0x00a1
                           0000A4    67 _zvb_peri_crc_byte0	=	0x00a4
                           0000A5    68 _zvb_peri_crc_byte1	=	0x00a5
                           0000A6    69 _zvb_peri_crc_byte2	=	0x00a6
                           0000A7    70 _zvb_peri_crc_byte3	=	0x00a7
                           0000A0    71 _zvb_peri_sound_freq_low	=	0x00a0
                           0000A1    72 _zvb_peri_sound_freq_high	=	0x00a1
                           0000A2    73 _zvb_peri_sound_wave	=	0x00a2
                           0000A3    74 _zvb_peri_sound_volume	=	0x00a3
                           0000A0    75 _zvb_peri_sound_sample_fifo	=	0x00a0
                           0000A1    76 _zvb_peri_sound_sample_div	=	0x00a1
                           0000A2    77 _zvb_peri_sound_sample_conf	=	0x00a2
                           0000AB    78 _zvb_peri_sound_left_channel	=	0x00ab
                           0000AC    79 _zvb_peri_sound_right_channel	=	0x00ac
                           0000AD    80 _zvb_peri_sound_hold	=	0x00ad
                           0000AE    81 _zvb_peri_sound_master_vol	=	0x00ae
                           0000AF    82 _zvb_peri_sound_select	=	0x00af
                           0000A0    83 _zvb_peri_dma_ctrl	=	0x00a0
                           0000A1    84 _zvb_peri_dma_addr0	=	0x00a1
                           0000A2    85 _zvb_peri_dma_addr1	=	0x00a2
                           0000A3    86 _zvb_peri_dma_addr2	=	0x00a3
                           0000A9    87 _zvb_peri_dma_clk_div	=	0x00a9
                           0000F2    88 _mmu_page2	=	0x00f2
                           00009C    89 _vid_mode	=	0x009c
                           00009D    90 _vid_stat	=	0x009d
                                     91 ;--------------------------------------------------------
                                     92 ; ram data
                                     93 ;--------------------------------------------------------
                                     94 	.area _DATA
      000000                         95 _current_page2::
      000000                         96 	.ds 1
                           008000    97 _SCREEN	=	0x8000
                                     98 ;--------------------------------------------------------
                                     99 ; ram data
                                    100 ;--------------------------------------------------------
                                    101 	.area _INITIALIZED
      000000                        102 _dma_descriptor::
      000000                        103 	.ds 12
                                    104 ;--------------------------------------------------------
                                    105 ; absolute external ram data
                                    106 ;--------------------------------------------------------
                                    107 	.area _DABS (ABS)
                                    108 ;--------------------------------------------------------
                                    109 ; global & static initialisations
                                    110 ;--------------------------------------------------------
                                    111 	.area _HOME
                                    112 	.area _GSINIT
                                    113 	.area _GSFINAL
                                    114 	.area _GSINIT
                                    115 ;--------------------------------------------------------
                                    116 ; Home
                                    117 ;--------------------------------------------------------
                                    118 	.area _HOME
                                    119 	.area _HOME
                                    120 ;--------------------------------------------------------
                                    121 ; code
                                    122 ;--------------------------------------------------------
                                    123 	.area _TEXT
                                    124 ;/home/smeagol/dev/Zeal/Zeal-VideoBoard-SDK//include/zvb_hardware.h:59: static inline void zvb_map_peripheral(uint8_t periph)
                                    125 ;	---------------------------------
                                    126 ; Function zvb_map_peripheral
                                    127 ; ---------------------------------
      000000                        128 _zvb_map_peripheral:
      000000 D3 8E            [11]  129 	out	(_zvb_config_dev_idx), a
                                    130 ;/home/smeagol/dev/Zeal/Zeal-VideoBoard-SDK//include/zvb_hardware.h:61: zvb_config_dev_idx = periph;
                                    131 ;/home/smeagol/dev/Zeal/Zeal-VideoBoard-SDK//include/zvb_hardware.h:62: }
      000002 C9               [10]  132 	ret
                                    133 ;src/wireframe.c:56: static int abs(int v) { return v < 0 ? -v : v; } //How said  i don't have abs?
                                    134 ;	---------------------------------
                                    135 ; Function abs
                                    136 ; ---------------------------------
      000003                        137 _abs:
      000003 CB 7C            [ 8]  138 	bit	7, h
      000005 28 07            [12]  139 	jr	Z, 00103$
      000007 AF               [ 4]  140 	xor	a, a
      000008 95               [ 4]  141 	sub	a, l
      000009 5F               [ 4]  142 	ld	e, a
      00000A 9F               [ 4]  143 	sbc	a, a
      00000B 94               [ 4]  144 	sub	a, h
      00000C 57               [ 4]  145 	ld	d, a
      00000D C9               [10]  146 	ret
      00000E                        147 00103$:
      00000E EB               [ 4]  148 	ex	de, hl
      00000F C9               [10]  149 	ret
                                    150 ;src/wireframe.c:59: static inline void map_vram(uint8_t page) //Page is relative to tileset memory
                                    151 ;	---------------------------------
                                    152 ; Function map_vram
                                    153 ; ---------------------------------
      000010                        154 _map_vram:
      000010 4F               [ 4]  155 	ld	c, a
                                    156 ;src/wireframe.c:61: current_page2 = page;
      000011 21r00r00         [10]  157 	ld	hl, #_current_page2
      000014 71               [ 7]  158 	ld	(hl), c
                                    159 ;src/wireframe.c:63: mmu_page2 = 68 + page;
      000015 79               [ 4]  160 	ld	a, c
      000016 C6 44            [ 7]  161 	add	a, #0x44
      000018 D3 F2            [11]  162 	out	(_mmu_page2), a
                                    163 ;src/wireframe.c:64: }
      00001A C9               [10]  164 	ret
                                    165 ;src/wireframe.c:66: void screen_write(uint8_t x, uint8_t y, uint8_t color)
                                    166 ;	---------------------------------
                                    167 ; Function screen_write
                                    168 ; ---------------------------------
      00001B                        169 _screen_write::
      00001B DD E5            [15]  170 	push	ix
      00001D DD 21 00 00      [14]  171 	ld	ix,#0
      000021 DD 39            [15]  172 	add	ix,sp
      000023 4F               [ 4]  173 	ld	c, a
                                    174 ;src/wireframe.c:68: uint8_t page = y >> 6;                 // Bitshift is cheaper than *255
      000024 7D               [ 4]  175 	ld	a, l
      000025 07               [ 4]  176 	rlca
      000026 07               [ 4]  177 	rlca
      000027 E6 03            [ 7]  178 	and	a, #0x03
      000029 5F               [ 4]  179 	ld	e, a
                                    180 ;src/wireframe.c:69: uint16_t offset = ((y & 0x3F) << 8) | x;
                                    181 ;	spillPairReg hl
                                    182 ;	spillPairReg hl
      00002A 7D               [ 4]  183 	ld	a, l
      00002B E6 3F            [ 7]  184 	and	a, #0x3f
                                    185 ;	spillPairReg hl
                                    186 ;	spillPairReg hl
                                    187 ;	spillPairReg hl
                                    188 ;	spillPairReg hl
      00002D 67               [ 4]  189 	ld	h, a
                                    190 ;	spillPairReg hl
                                    191 ;	spillPairReg hl
                                    192 ;	spillPairReg hl
                                    193 ;	spillPairReg hl
      00002E 2E 00            [ 7]  194 	ld	l, #0x00
      000030 45               [ 4]  195 	ld	b, l
      000031 79               [ 4]  196 	ld	a, c
      000032 B5               [ 4]  197 	or	a, l
      000033 4F               [ 4]  198 	ld	c, a
      000034 78               [ 4]  199 	ld	a, b
      000035 B4               [ 4]  200 	or	a, h
      000036 47               [ 4]  201 	ld	b, a
                                    202 ;src/wireframe.c:71: if (page != current_page2)
      000037 3Ar00r00         [13]  203 	ld	a, (_current_page2+0)
      00003A 93               [ 4]  204 	sub	a, e
      00003B 28 0C            [12]  205 	jr	Z, 00102$
                                    206 ;src/wireframe.c:61: current_page2 = page;
      00003D FD 21r00r00      [14]  207 	ld	iy, #_current_page2
      000041 FD 73 00         [19]  208 	ld	0 (iy), e
                                    209 ;src/wireframe.c:63: mmu_page2 = 68 + page;
      000044 7B               [ 4]  210 	ld	a, e
      000045 C6 44            [ 7]  211 	add	a, #0x44
      000047 D3 F2            [11]  212 	out	(_mmu_page2), a
                                    213 ;src/wireframe.c:72: map_vram(page);
      000049                        214 00102$:
                                    215 ;src/wireframe.c:74: ((uint8_t*)0x8000)[offset] = color;
      000049 21 00 80         [10]  216 	ld	hl, #0x8000
      00004C 09               [11]  217 	add	hl, bc
      00004D DD 7E 04         [19]  218 	ld	a, 4 (ix)
      000050 77               [ 7]  219 	ld	(hl), a
                                    220 ;src/wireframe.c:75: }
      000051 DD E1            [14]  221 	pop	ix
      000053 E1               [10]  222 	pop	hl
      000054 33               [ 6]  223 	inc	sp
      000055 E9               [ 4]  224 	jp	(hl)
                                    225 ;src/wireframe.c:77: void draw_dot(int x, int y, uint8_t color, int size)
                                    226 ;	---------------------------------
                                    227 ; Function draw_dot
                                    228 ; ---------------------------------
      000056                        229 _draw_dot::
      000056 DD E5            [15]  230 	push	ix
      000058 DD 21 00 00      [14]  231 	ld	ix,#0
      00005C DD 39            [15]  232 	add	ix,sp
      00005E F5               [11]  233 	push	af
      00005F F5               [11]  234 	push	af
      000060 E3               [19]  235 	ex	(sp), hl
                                    236 ;src/wireframe.c:81: for (dy = 0; dy < size; dy++) {
      000061 01 00 00         [10]  237 	ld	bc, #0x0000
      000064                        238 00107$:
      000064 79               [ 4]  239 	ld	a, c
      000065 DD 96 05         [19]  240 	sub	a, 5 (ix)
      000068 78               [ 4]  241 	ld	a, b
      000069 DD 9E 06         [19]  242 	sbc	a, 6 (ix)
      00006C E2r71r00         [10]  243 	jp	PO, 00133$
      00006F EE 80            [ 7]  244 	xor	a, #0x80
      000071                        245 00133$:
      000071 F2rB5r00         [10]  246 	jp	P, 00109$
                                    247 ;src/wireframe.c:82: for (dx = 0; dx < size; dx++) {
      000074 AF               [ 4]  248 	xor	a, a
      000075 DD 77 FE         [19]  249 	ld	-2 (ix), a
      000078 DD 77 FF         [19]  250 	ld	-1 (ix), a
      00007B                        251 00104$:
      00007B DD 7E FE         [19]  252 	ld	a, -2 (ix)
      00007E DD 96 05         [19]  253 	sub	a, 5 (ix)
      000081 DD 7E FF         [19]  254 	ld	a, -1 (ix)
      000084 DD 9E 06         [19]  255 	sbc	a, 6 (ix)
      000087 E2r8Cr00         [10]  256 	jp	PO, 00134$
      00008A EE 80            [ 7]  257 	xor	a, #0x80
      00008C                        258 00134$:
      00008C F2rB2r00         [10]  259 	jp	P, 00108$
                                    260 ;src/wireframe.c:83: screen_write(x + dx, y + dy, color);
      00008F 7B               [ 4]  261 	ld	a, e
      000090 69               [ 4]  262 	ld	l, c
                                    263 ;	spillPairReg hl
                                    264 ;	spillPairReg hl
      000091 85               [ 4]  265 	add	a, l
      000092 6F               [ 4]  266 	ld	l, a
                                    267 ;	spillPairReg hl
                                    268 ;	spillPairReg hl
      000093 DD 7E FC         [19]  269 	ld	a, -4 (ix)
      000096 DD 66 FE         [19]  270 	ld	h, -2 (ix)
                                    271 ;	spillPairReg hl
                                    272 ;	spillPairReg hl
      000099 84               [ 4]  273 	add	a, h
      00009A 67               [ 4]  274 	ld	h, a
                                    275 ;	spillPairReg hl
                                    276 ;	spillPairReg hl
      00009B C5               [11]  277 	push	bc
      00009C D5               [11]  278 	push	de
      00009D DD 7E 04         [19]  279 	ld	a, 4 (ix)
      0000A0 F5               [11]  280 	push	af
      0000A1 33               [ 6]  281 	inc	sp
      0000A2 7C               [ 4]  282 	ld	a, h
      0000A3 CDr1Br00         [17]  283 	call	_screen_write
      0000A6 D1               [10]  284 	pop	de
      0000A7 C1               [10]  285 	pop	bc
                                    286 ;src/wireframe.c:82: for (dx = 0; dx < size; dx++) {
      0000A8 DD 34 FE         [23]  287 	inc	-2 (ix)
      0000AB 20 CE            [12]  288 	jr	NZ, 00104$
      0000AD DD 34 FF         [23]  289 	inc	-1 (ix)
      0000B0 18 C9            [12]  290 	jr	00104$
      0000B2                        291 00108$:
                                    292 ;src/wireframe.c:81: for (dy = 0; dy < size; dy++) {
      0000B2 03               [ 6]  293 	inc	bc
      0000B3 18 AF            [12]  294 	jr	00107$
      0000B5                        295 00109$:
                                    296 ;src/wireframe.c:86: }
      0000B5 DD F9            [10]  297 	ld	sp, ix
      0000B7 DD E1            [14]  298 	pop	ix
      0000B9 E1               [10]  299 	pop	hl
      0000BA F1               [10]  300 	pop	af
      0000BB 33               [ 6]  301 	inc	sp
      0000BC E9               [ 4]  302 	jp	(hl)
                                    303 ;src/wireframe.c:88: void draw_line(int16_t x1, int16_t y1, int16_t x2, int16_t y2)
                                    304 ;	---------------------------------
                                    305 ; Function draw_line
                                    306 ; ---------------------------------
      0000BD                        307 _draw_line::
      0000BD DD E5            [15]  308 	push	ix
      0000BF DD 21 00 00      [14]  309 	ld	ix,#0
      0000C3 DD 39            [15]  310 	add	ix,sp
      0000C5 FD 21 EC FF      [14]  311 	ld	iy, #-20
      0000C9 FD 39            [15]  312 	add	iy, sp
      0000CB FD F9            [10]  313 	ld	sp, iy
      0000CD DD 75 FC         [19]  314 	ld	-4 (ix), l
      0000D0 DD 74 FD         [19]  315 	ld	-3 (ix), h
      0000D3 DD 73 FA         [19]  316 	ld	-6 (ix), e
      0000D6 DD 72 FB         [19]  317 	ld	-5 (ix), d
                                    318 ;src/wireframe.c:93: dx = abs(y2 - y1);
      0000D9 DD 7E 06         [19]  319 	ld	a, 6 (ix)
      0000DC DD 96 FA         [19]  320 	sub	a, -6 (ix)
      0000DF 6F               [ 4]  321 	ld	l, a
                                    322 ;	spillPairReg hl
                                    323 ;	spillPairReg hl
      0000E0 DD 7E 07         [19]  324 	ld	a, 7 (ix)
      0000E3 DD 9E FB         [19]  325 	sbc	a, -5 (ix)
      0000E6 67               [ 4]  326 	ld	h, a
                                    327 ;	spillPairReg hl
                                    328 ;	spillPairReg hl
      0000E7 CDr03r00         [17]  329 	call	_abs
      0000EA 33               [ 6]  330 	inc	sp
      0000EB 33               [ 6]  331 	inc	sp
      0000EC D5               [11]  332 	push	de
                                    333 ;src/wireframe.c:94: dy = abs(x2 - x1);
      0000ED DD 7E 04         [19]  334 	ld	a, 4 (ix)
      0000F0 DD 96 FC         [19]  335 	sub	a, -4 (ix)
      0000F3 6F               [ 4]  336 	ld	l, a
                                    337 ;	spillPairReg hl
                                    338 ;	spillPairReg hl
      0000F4 DD 7E 05         [19]  339 	ld	a, 5 (ix)
      0000F7 DD 9E FD         [19]  340 	sbc	a, -3 (ix)
      0000FA 67               [ 4]  341 	ld	h, a
                                    342 ;	spillPairReg hl
                                    343 ;	spillPairReg hl
      0000FB CDr03r00         [17]  344 	call	_abs
      0000FE DD 73 EE         [19]  345 	ld	-18 (ix), e
      000101 DD 72 EF         [19]  346 	ld	-17 (ix), d
                                    347 ;src/wireframe.c:95: sx = (y1 < y2) ? 1 : -1;
      000104 DD 7E FA         [19]  348 	ld	a, -6 (ix)
      000107 DD 96 06         [19]  349 	sub	a, 6 (ix)
      00010A DD 7E FB         [19]  350 	ld	a, -5 (ix)
      00010D DD 9E 07         [19]  351 	sbc	a, 7 (ix)
      000110 E2r15r01         [10]  352 	jp	PO, 00147$
      000113 EE 80            [ 7]  353 	xor	a, #0x80
      000115                        354 00147$:
      000115 F2r22r01         [10]  355 	jp	P, 00113$
      000118 DD 36 FE 01      [19]  356 	ld	-2 (ix), #0x01
      00011C DD 36 FF 00      [19]  357 	ld	-1 (ix), #0
      000120 18 08            [12]  358 	jr	00114$
      000122                        359 00113$:
      000122 DD 36 FE FF      [19]  360 	ld	-2 (ix), #0xff
      000126 DD 36 FF FF      [19]  361 	ld	-1 (ix), #0xff
      00012A                        362 00114$:
      00012A DD 7E FE         [19]  363 	ld	a, -2 (ix)
      00012D DD 77 F0         [19]  364 	ld	-16 (ix), a
      000130 DD 7E FF         [19]  365 	ld	a, -1 (ix)
      000133 DD 77 F1         [19]  366 	ld	-15 (ix), a
                                    367 ;src/wireframe.c:96: sy = (x1 < x2) ? 1 : -1;
      000136 DD 7E FC         [19]  368 	ld	a, -4 (ix)
      000139 DD 96 04         [19]  369 	sub	a, 4 (ix)
      00013C DD 7E FD         [19]  370 	ld	a, -3 (ix)
      00013F DD 9E 05         [19]  371 	sbc	a, 5 (ix)
      000142 E2r47r01         [10]  372 	jp	PO, 00148$
      000145 EE 80            [ 7]  373 	xor	a, #0x80
      000147                        374 00148$:
      000147 F2r4Fr01         [10]  375 	jp	P, 00115$
      00014A 11 01 00         [10]  376 	ld	de, #0x0001
      00014D 18 03            [12]  377 	jr	00116$
      00014F                        378 00115$:
      00014F 11 FF FF         [10]  379 	ld	de, #0xffff
      000152                        380 00116$:
      000152 DD 73 F2         [19]  381 	ld	-14 (ix), e
      000155 DD 72 F3         [19]  382 	ld	-13 (ix), d
                                    383 ;src/wireframe.c:97: err = dx - dy;
      000158 DD 7E EC         [19]  384 	ld	a, -20 (ix)
      00015B DD 96 EE         [19]  385 	sub	a, -18 (ix)
      00015E DD 77 FE         [19]  386 	ld	-2 (ix), a
      000161 DD 7E ED         [19]  387 	ld	a, -19 (ix)
      000164 DD 9E EF         [19]  388 	sbc	a, -17 (ix)
      000167 DD 77 FF         [19]  389 	ld	-1 (ix), a
                                    390 ;src/wireframe.c:99: while (1) {
      00016A AF               [ 4]  391 	xor	a, a
      00016B DD 96 EE         [19]  392 	sub	a, -18 (ix)
      00016E DD 77 F4         [19]  393 	ld	-12 (ix), a
      000171 9F               [ 4]  394 	sbc	a, a
      000172 DD 96 EF         [19]  395 	sub	a, -17 (ix)
      000175 DD 77 F5         [19]  396 	ld	-11 (ix), a
      000178                        397 00109$:
                                    398 ;src/wireframe.c:100: draw_dot(x1, y1, 5, size);
      000178 DD 7E FA         [19]  399 	ld	a, -6 (ix)
      00017B DD 77 F6         [19]  400 	ld	-10 (ix), a
      00017E DD 7E FB         [19]  401 	ld	a, -5 (ix)
      000181 DD 77 F7         [19]  402 	ld	-9 (ix), a
      000184 DD 7E FC         [19]  403 	ld	a, -4 (ix)
      000187 DD 77 F8         [19]  404 	ld	-8 (ix), a
      00018A DD 7E FD         [19]  405 	ld	a, -3 (ix)
      00018D DD 77 F9         [19]  406 	ld	-7 (ix), a
      000190 21 01 00         [10]  407 	ld	hl, #0x0001
      000193 E5               [11]  408 	push	hl
      000194 3E 05            [ 7]  409 	ld	a, #0x05
      000196 F5               [11]  410 	push	af
      000197 33               [ 6]  411 	inc	sp
      000198 DD 5E F6         [19]  412 	ld	e, -10 (ix)
      00019B DD 56 F7         [19]  413 	ld	d, -9 (ix)
      00019E DD 6E F8         [19]  414 	ld	l, -8 (ix)
                                    415 ;	spillPairReg hl
                                    416 ;	spillPairReg hl
      0001A1 DD 66 F9         [19]  417 	ld	h, -7 (ix)
                                    418 ;	spillPairReg hl
                                    419 ;	spillPairReg hl
      0001A4 CDr56r00         [17]  420 	call	_draw_dot
                                    421 ;src/wireframe.c:102: if (y1 == y2 && x1 == x2)
      0001A7 DD 7E FA         [19]  422 	ld	a, -6 (ix)
      0001AA DD 96 06         [19]  423 	sub	a, 6 (ix)
      0001AD 20 18            [12]  424 	jr	NZ, 00102$
      0001AF DD 7E FB         [19]  425 	ld	a, -5 (ix)
      0001B2 DD 96 07         [19]  426 	sub	a, 7 (ix)
      0001B5 20 10            [12]  427 	jr	NZ, 00102$
      0001B7 DD 7E 04         [19]  428 	ld	a, 4 (ix)
      0001BA DD 96 FC         [19]  429 	sub	a, -4 (ix)
      0001BD 20 08            [12]  430 	jr	NZ, 00151$
      0001BF DD 7E 05         [19]  431 	ld	a, 5 (ix)
      0001C2 DD 96 FD         [19]  432 	sub	a, -3 (ix)
      0001C5 28 74            [12]  433 	jr	Z, 00111$
      0001C7                        434 00151$:
                                    435 ;src/wireframe.c:103: break;
      0001C7                        436 00102$:
                                    437 ;src/wireframe.c:105: e2 = err << 1;
      0001C7 DD 6E FE         [19]  438 	ld	l, -2 (ix)
      0001CA DD 66 FF         [19]  439 	ld	h, -1 (ix)
      0001CD 29               [11]  440 	add	hl, hl
                                    441 ;src/wireframe.c:107: if (e2 > -dy) {
      0001CE DD 7E F4         [19]  442 	ld	a, -12 (ix)
      0001D1 95               [ 4]  443 	sub	a, l
      0001D2 DD 7E F5         [19]  444 	ld	a, -11 (ix)
      0001D5 9C               [ 4]  445 	sbc	a, h
      0001D6 E2rDBr01         [10]  446 	jp	PO, 00152$
      0001D9 EE 80            [ 7]  447 	xor	a, #0x80
      0001DB                        448 00152$:
      0001DB F2r03r02         [10]  449 	jp	P, 00105$
                                    450 ;src/wireframe.c:108: err -= dy;
      0001DE DD 7E FE         [19]  451 	ld	a, -2 (ix)
      0001E1 DD 96 EE         [19]  452 	sub	a, -18 (ix)
      0001E4 DD 77 FE         [19]  453 	ld	-2 (ix), a
      0001E7 DD 7E FF         [19]  454 	ld	a, -1 (ix)
      0001EA DD 9E EF         [19]  455 	sbc	a, -17 (ix)
      0001ED DD 77 FF         [19]  456 	ld	-1 (ix), a
                                    457 ;src/wireframe.c:109: y1 += sx;
      0001F0 DD 7E F6         [19]  458 	ld	a, -10 (ix)
      0001F3 DD 86 F0         [19]  459 	add	a, -16 (ix)
      0001F6 4F               [ 4]  460 	ld	c, a
      0001F7 DD 7E F7         [19]  461 	ld	a, -9 (ix)
      0001FA DD 8E F1         [19]  462 	adc	a, -15 (ix)
      0001FD DD 71 FA         [19]  463 	ld	-6 (ix), c
      000200 DD 77 FB         [19]  464 	ld	-5 (ix), a
      000203                        465 00105$:
                                    466 ;src/wireframe.c:111: if (e2 < dx) {
      000203 7D               [ 4]  467 	ld	a, l
      000204 DD 96 EC         [19]  468 	sub	a, -20 (ix)
      000207 7C               [ 4]  469 	ld	a, h
      000208 DD 9E ED         [19]  470 	sbc	a, -19 (ix)
      00020B E2r10r02         [10]  471 	jp	PO, 00153$
      00020E EE 80            [ 7]  472 	xor	a, #0x80
      000210                        473 00153$:
      000210 F2r78r01         [10]  474 	jp	P, 00109$
                                    475 ;src/wireframe.c:112: err += dx;
      000213 DD 7E FE         [19]  476 	ld	a, -2 (ix)
      000216 DD 86 EC         [19]  477 	add	a, -20 (ix)
      000219 DD 77 FE         [19]  478 	ld	-2 (ix), a
      00021C DD 7E FF         [19]  479 	ld	a, -1 (ix)
      00021F DD 8E ED         [19]  480 	adc	a, -19 (ix)
      000222 DD 77 FF         [19]  481 	ld	-1 (ix), a
                                    482 ;src/wireframe.c:113: x1 += sy;
      000225 DD 7E F8         [19]  483 	ld	a, -8 (ix)
      000228 DD 86 F2         [19]  484 	add	a, -14 (ix)
      00022B 4F               [ 4]  485 	ld	c, a
      00022C DD 7E F9         [19]  486 	ld	a, -7 (ix)
      00022F DD 8E F3         [19]  487 	adc	a, -13 (ix)
      000232 DD 71 FC         [19]  488 	ld	-4 (ix), c
      000235 DD 77 FD         [19]  489 	ld	-3 (ix), a
      000238 C3r78r01         [10]  490 	jp	00109$
      00023B                        491 00111$:
                                    492 ;src/wireframe.c:116: }
      00023B DD F9            [10]  493 	ld	sp, ix
      00023D DD E1            [14]  494 	pop	ix
      00023F E1               [10]  495 	pop	hl
      000240 F1               [10]  496 	pop	af
      000241 F1               [10]  497 	pop	af
      000242 E9               [ 4]  498 	jp	(hl)
                                    499 ;src/wireframe.c:127: void clear_screen()
                                    500 ;	---------------------------------
                                    501 ; Function clear_screen
                                    502 ; ---------------------------------
      000243                        503 _clear_screen::
                                    504 ;src/wireframe.c:61: current_page2 = page;
      000243 FD 21r00r00      [14]  505 	ld	iy, #_current_page2
      000247 FD 36 00 00      [19]  506 	ld	0 (iy), #0x00
                                    507 ;src/wireframe.c:63: mmu_page2 = 68 + page;
      00024B 3E 44            [ 7]  508 	ld	a, #0x44
      00024D D3 F2            [11]  509 	out	(_mmu_page2), a
                                    510 ;src/wireframe.c:130: SCREEN[0][0] = 0;
      00024F 21 00 80         [10]  511 	ld	hl, #_SCREEN
      000252 36 00            [10]  512 	ld	(hl), #0x00
                                    513 ;src/wireframe.c:131: zvb_dma_start_transfer(&dma_descriptor);
      000254 21r00r00         [10]  514 	ld	hl, #_dma_descriptor
                                    515 ;src/wireframe.c:132: }
      000257 C3r00r00         [10]  516 	jp	_zvb_dma_start_transfer
                                    517 ;src/wireframe.c:135: int main()
                                    518 ;	---------------------------------
                                    519 ; Function main
                                    520 ; ---------------------------------
      00025A                        521 _main::
                                    522 ;src/wireframe.c:137: vid_mode = 2;
      00025A 3E 02            [ 7]  523 	ld	a, #0x02
      00025C 01 9C 00         [10]  524 	ld	bc, #_vid_mode
      00025F ED 79            [12]  525 	out	(c),a
                                    526 ;src/wireframe.c:61: current_page2 = page;
      000261 21r00r00         [10]  527 	ld	hl, #_current_page2
      000264 36 00            [10]  528 	ld	(hl), #0x00
                                    529 ;src/wireframe.c:63: mmu_page2 = 68 + page;
      000266 3E 44            [ 7]  530 	ld	a, #0x44
      000268 D3 F2            [11]  531 	out	(_mmu_page2), a
                                    532 ;src/wireframe.c:138: map_vram(0);
      00026A                        533 00103$:
                                    534 ;src/wireframe.c:139: for (;;) {frame();} //Mainloop
      00026A CDr00r00         [17]  535 	call	_frame
                                    536 ;src/wireframe.c:140: return 0;
                                    537 ;src/wireframe.c:141: }
      00026D 18 FB            [12]  538 	jr	00103$
                                    539 	.area _TEXT
                                    540 	.area _INITIALIZER
      000000                        541 __xinit__dma_descriptor:
      000000 00 00                  542 	.dw #0x0000
      000002 11                     543 	.db #0x11	; 17
      000003 01 00                  544 	.dw #0x0001
      000005 11                     545 	.db #0x11	; 17
      000006 00 F0                  546 	.dw #0xf000
      000008 01                     547 	.db #0x01	; 1
      000009 00                     548 	.db 0x00
      00000A 00                     549 	.db 0x00
      00000B 00                     550 	.db 0x00
                                    551 	.area _CABS (ABS)
