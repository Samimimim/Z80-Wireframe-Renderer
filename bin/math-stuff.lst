                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module math_stuff
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _draw_line
                                     12 	.globl _clear_screen
                                     13 	.globl _fs_count
                                     14 	.globl _fs_len
                                     15 	.globl _fs
                                     16 	.globl _face3
                                     17 	.globl _face2
                                     18 	.globl _face1
                                     19 	.globl _face0
                                     20 	.globl _vs_count
                                     21 	.globl _vs
                                     22 	.globl _frame
                                     23 ;--------------------------------------------------------
                                     24 ; special function registers
                                     25 ;--------------------------------------------------------
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _DATA
                                     30 ;--------------------------------------------------------
                                     31 ; ram data
                                     32 ;--------------------------------------------------------
                                     33 	.area _INITIALIZED
      000000                         34 _dz:
      000000                         35 	.ds 2
      000002                         36 _angle:
      000002                         37 	.ds 2
                                     38 ;--------------------------------------------------------
                                     39 ; absolute external ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area _DABS (ABS)
                                     42 ;--------------------------------------------------------
                                     43 ; global & static initialisations
                                     44 ;--------------------------------------------------------
                                     45 	.area _HOME
                                     46 	.area _GSINIT
                                     47 	.area _GSFINAL
                                     48 	.area _GSINIT
                                     49 ;--------------------------------------------------------
                                     50 ; Home
                                     51 ;--------------------------------------------------------
                                     52 	.area _HOME
                                     53 	.area _HOME
                                     54 ;--------------------------------------------------------
                                     55 ; code
                                     56 ;--------------------------------------------------------
                                     57 	.area _TEXT
                                     58 ;src/math-stuff.c:81: static inline q8_8_t fmul(q8_8_t a, q8_8_t b) {
                                     59 ;	---------------------------------
                                     60 ; Function fmul
                                     61 ; ---------------------------------
      000000                         62 _fmul:
                                     63 ;src/math-stuff.c:82: return (q8_8_t)(((q32_t)a * (q32_t)b) >> FP_SHIFT);
      000000 CDr00r00         [17]   64 	call	___mulsint2slong
      000003 5A               [ 4]   65 	ld	e, d
      000004 55               [ 4]   66 	ld	d, l
                                     67 ;src/math-stuff.c:83: }
      000005 C9               [10]   68 	ret
      000006                         69 _vs:
      000006 00 00                   70 	.dw #0x0000
      000008 00 01                   71 	.dw #0x0100
      00000A 00 00                   72 	.dw #0x0000
      00000C 01 FF                   73 	.dw #0xff01
      00000E 00 FF                   74 	.dw #0xff00
      000010 00 FF                   75 	.dw #0xff00
      000012 FF 00                   76 	.dw #0x00ff
      000014 00 FF                   77 	.dw #0xff00
      000016 00 FF                   78 	.dw #0xff00
      000018 01 FF                   79 	.dw #0xff01
      00001A 00 FF                   80 	.dw #0xff00
      00001C 00 01                   81 	.dw #0x0100
      00001E FF 00                   82 	.dw #0x00ff
      000020 00 FF                   83 	.dw #0xff00
      000022 00 01                   84 	.dw #0x0100
      000024                         85 _vs_count:
      000024 05 00                   86 	.dw #0x0005
      000026                         87 _face0:
      000026 01                      88 	.db #0x01	; 1
      000027 02                      89 	.db #0x02	; 2
      000028 00                      90 	.db #0x00	; 0
      000029                         91 _face1:
      000029 03                      92 	.db #0x03	; 3
      00002A 04                      93 	.db #0x04	; 4
      00002B 00                      94 	.db #0x00	; 0
      00002C                         95 _face2:
      00002C 02                      96 	.db #0x02	; 2
      00002D 04                      97 	.db #0x04	; 4
      00002E 00                      98 	.db #0x00	; 0
      00002F                         99 _face3:
      00002F 01                     100 	.db #0x01	; 1
      000030 03                     101 	.db #0x03	; 3
      000031 00                     102 	.db #0x00	; 0
      000032                        103 _fs:
      000032r26r00                  104 	.dw _face0
      000034r29r00                  105 	.dw _face1
      000036r2Cr00                  106 	.dw _face2
      000038r2Fr00                  107 	.dw _face3
      00003A                        108 _fs_len:
      00003A 03                     109 	.db #0x03	; 3
      00003B 03                     110 	.db #0x03	; 3
      00003C 03                     111 	.db #0x03	; 3
      00003D 03                     112 	.db #0x03	; 3
      00003E                        113 _fs_count:
      00003E 07 00                  114 	.dw #0x0007
                                    115 ;src/math-stuff.c:85: static inline q8_8_t fdiv(q8_8_t a, q8_8_t b) {
                                    116 ;	---------------------------------
                                    117 ; Function fdiv
                                    118 ; ---------------------------------
      000040                        119 _fdiv:
      000040 DD E5            [15]  120 	push	ix
      000042 DD 21 00 00      [14]  121 	ld	ix,#0
      000046 DD 39            [15]  122 	add	ix,sp
      000048 F5               [11]  123 	push	af
      000049 E3               [19]  124 	ex	(sp), hl
      00004A 4B               [ 4]  125 	ld	c, e
      00004B 42               [ 4]  126 	ld	b, d
                                    127 ;src/math-stuff.c:86: if (b == 0) return (a >= 0) ? INT16_MAX : INT16_MIN;
      00004C 78               [ 4]  128 	ld	a, b
      00004D B1               [ 4]  129 	or	a, c
      00004E 20 10            [12]  130 	jr	NZ, 00102$
      000050 C1               [10]  131 	pop	bc
      000051 C5               [11]  132 	push	bc
      000052 CB 78            [ 8]  133 	bit	7, b
      000054 20 05            [12]  134 	jr	NZ, 00105$
      000056 11 FF 7F         [10]  135 	ld	de, #0x7fff
      000059 18 25            [12]  136 	jr	00103$
      00005B                        137 00105$:
      00005B 11 00 80         [10]  138 	ld	de, #0x8000
      00005E 18 20            [12]  139 	jr	00103$
      000060                        140 00102$:
                                    141 ;src/math-stuff.c:87: return (q8_8_t)(((q32_t)a << FP_SHIFT) / (q32_t)b);
      000060 DD 5E FE         [19]  142 	ld	e, -2 (ix)
      000063 DD 7E FF         [19]  143 	ld	a, -1 (ix)
      000066 57               [ 4]  144 	ld	d, a
      000067 07               [ 4]  145 	rlca
      000068 ED 62            [15]  146 	sbc	hl, hl
      00006A 65               [ 4]  147 	ld	h, l
                                    148 ;	spillPairReg hl
                                    149 ;	spillPairReg hl
      00006B 6A               [ 4]  150 	ld	l, d
                                    151 ;	spillPairReg hl
                                    152 ;	spillPairReg hl
      00006C 53               [ 4]  153 	ld	d, e
      00006D 1E 00            [ 7]  154 	ld	e, #0x00
      00006F 78               [ 4]  155 	ld	a, b
      000070 07               [ 4]  156 	rlca
      000071 9F               [ 4]  157 	sbc	a, a
      000072 FD E5            [15]  158 	push	iy
      000074 DD 77 FC         [19]  159 	ld	-4 (ix), a
      000077 DD 77 FD         [19]  160 	ld	-3 (ix), a
      00007A C5               [11]  161 	push	bc
      00007B CDr00r00         [17]  162 	call	__divslong
      00007E F1               [10]  163 	pop	af
      00007F F1               [10]  164 	pop	af
      000080                        165 00103$:
                                    166 ;src/math-stuff.c:88: }
      000080 DD F9            [10]  167 	ld	sp, ix
      000082 DD E1            [14]  168 	pop	ix
      000084 C9               [10]  169 	ret
                                    170 ;src/math-stuff.c:140: static void lut_rot(uint8_t a, q8_8_t *out_cos, q8_8_t *out_sin) {
                                    171 ;	---------------------------------
                                    172 ; Function lut_rot
                                    173 ; ---------------------------------
      000085                        174 _lut_rot:
      000085 DD E5            [15]  175 	push	ix
      000087 DD 21 00 00      [14]  176 	ld	ix,#0
      00008B DD 39            [15]  177 	add	ix,sp
      00008D F5               [11]  178 	push	af
      00008E 4F               [ 4]  179 	ld	c, a
      00008F 33               [ 6]  180 	inc	sp
      000090 33               [ 6]  181 	inc	sp
      000091 D5               [11]  182 	push	de
                                    183 ;src/math-stuff.c:141: *out_cos = cos_lut[a]; // Q8.8
      000092 21rBEr02         [10]  184 	ld	hl, #_cos_lut+0
      000095 59               [ 4]  185 	ld	e, c
      000096 16 00            [ 7]  186 	ld	d, #0x00
      000098 EB               [ 4]  187 	ex	de, hl
      000099 29               [11]  188 	add	hl, hl
      00009A EB               [ 4]  189 	ex	de, hl
      00009B 19               [11]  190 	add	hl, de
      00009C 4E               [ 7]  191 	ld	c, (hl)
      00009D 23               [ 6]  192 	inc	hl
      00009E 46               [ 7]  193 	ld	b, (hl)
      00009F E1               [10]  194 	pop	hl
      0000A0 E5               [11]  195 	push	hl
      0000A1 71               [ 7]  196 	ld	(hl), c
      0000A2 23               [ 6]  197 	inc	hl
      0000A3 70               [ 7]  198 	ld	(hl), b
                                    199 ;src/math-stuff.c:142: *out_sin = sin_lut[a]; // Q8.8
      0000A4 DD 4E 04         [19]  200 	ld	c, 4 (ix)
      0000A7 DD 46 05         [19]  201 	ld	b, 5 (ix)
      0000AA 21rBEr00         [10]  202 	ld	hl, #_sin_lut+0
      0000AD 19               [11]  203 	add	hl, de
      0000AE 5E               [ 7]  204 	ld	e, (hl)
      0000AF 23               [ 6]  205 	inc	hl
      0000B0 56               [ 7]  206 	ld	d, (hl)
      0000B1 7B               [ 4]  207 	ld	a, e
      0000B2 02               [ 7]  208 	ld	(bc), a
      0000B3 03               [ 6]  209 	inc	bc
      0000B4 7A               [ 4]  210 	ld	a, d
      0000B5 02               [ 7]  211 	ld	(bc), a
                                    212 ;src/math-stuff.c:143: }
      0000B6 DD F9            [10]  213 	ld	sp, ix
      0000B8 DD E1            [14]  214 	pop	ix
      0000BA E1               [10]  215 	pop	hl
      0000BB F1               [10]  216 	pop	af
      0000BC E9               [ 4]  217 	jp	(hl)
      0000BD                        218 _ANGLE_STEP:
      0000BD 04                     219 	.db #0x04	; 4
      0000BE                        220 _sin_lut:
      0000BE 00 00                  221 	.dw #0x0000
      0000C0 03 00                  222 	.dw #0x0003
      0000C2 06 00                  223 	.dw #0x0006
      0000C4 09 00                  224 	.dw #0x0009
      0000C6 0C 00                  225 	.dw #0x000c
      0000C8 10 00                  226 	.dw #0x0010
      0000CA 13 00                  227 	.dw #0x0013
      0000CC 16 00                  228 	.dw #0x0016
      0000CE 19 00                  229 	.dw #0x0019
      0000D0 1C 00                  230 	.dw #0x001c
      0000D2 1F 00                  231 	.dw #0x001f
      0000D4 22 00                  232 	.dw #0x0022
      0000D6 25 00                  233 	.dw #0x0025
      0000D8 28 00                  234 	.dw #0x0028
      0000DA 2B 00                  235 	.dw #0x002b
      0000DC 2E 00                  236 	.dw #0x002e
      0000DE 31 00                  237 	.dw #0x0031
      0000E0 34 00                  238 	.dw #0x0034
      0000E2 37 00                  239 	.dw #0x0037
      0000E4 3A 00                  240 	.dw #0x003a
      0000E6 3D 00                  241 	.dw #0x003d
      0000E8 40 00                  242 	.dw #0x0040
      0000EA 43 00                  243 	.dw #0x0043
      0000EC 46 00                  244 	.dw #0x0046
      0000EE 49 00                  245 	.dw #0x0049
      0000F0 4C 00                  246 	.dw #0x004c
      0000F2 4E 00                  247 	.dw #0x004e
      0000F4 51 00                  248 	.dw #0x0051
      0000F6 54 00                  249 	.dw #0x0054
      0000F8 57 00                  250 	.dw #0x0057
      0000FA 5A 00                  251 	.dw #0x005a
      0000FC 5D 00                  252 	.dw #0x005d
      0000FE 5F 00                  253 	.dw #0x005f
      000100 62 00                  254 	.dw #0x0062
      000102 65 00                  255 	.dw #0x0065
      000104 68 00                  256 	.dw #0x0068
      000106 6A 00                  257 	.dw #0x006a
      000108 6D 00                  258 	.dw #0x006d
      00010A 6F 00                  259 	.dw #0x006f
      00010C 72 00                  260 	.dw #0x0072
      00010E 74 00                  261 	.dw #0x0074
      000110 77 00                  262 	.dw #0x0077
      000112 79 00                  263 	.dw #0x0079
      000114 7C 00                  264 	.dw #0x007c
      000116 7E 00                  265 	.dw #0x007e
      000118 80 00                  266 	.dw #0x0080
      00011A 83 00                  267 	.dw #0x0083
      00011C 85 00                  268 	.dw #0x0085
      00011E 87 00                  269 	.dw #0x0087
      000120 8A 00                  270 	.dw #0x008a
      000122 8C 00                  271 	.dw #0x008c
      000124 8E 00                  272 	.dw #0x008e
      000126 90 00                  273 	.dw #0x0090
      000128 93 00                  274 	.dw #0x0093
      00012A 95 00                  275 	.dw #0x0095
      00012C 97 00                  276 	.dw #0x0097
      00012E 99 00                  277 	.dw #0x0099
      000130 9B 00                  278 	.dw #0x009b
      000132 9D 00                  279 	.dw #0x009d
      000134 9F 00                  280 	.dw #0x009f
      000136 A1 00                  281 	.dw #0x00a1
      000138 A3 00                  282 	.dw #0x00a3
      00013A A5 00                  283 	.dw #0x00a5
      00013C A7 00                  284 	.dw #0x00a7
      00013E A9 00                  285 	.dw #0x00a9
      000140 AB 00                  286 	.dw #0x00ab
      000142 AD 00                  287 	.dw #0x00ad
      000144 AF 00                  288 	.dw #0x00af
      000146 B1 00                  289 	.dw #0x00b1
      000148 B2 00                  290 	.dw #0x00b2
      00014A B4 00                  291 	.dw #0x00b4
      00014C B6 00                  292 	.dw #0x00b6
      00014E B8 00                  293 	.dw #0x00b8
      000150 B9 00                  294 	.dw #0x00b9
      000152 BB 00                  295 	.dw #0x00bb
      000154 BD 00                  296 	.dw #0x00bd
      000156 BE 00                  297 	.dw #0x00be
      000158 C0 00                  298 	.dw #0x00c0
      00015A C2 00                  299 	.dw #0x00c2
      00015C C3 00                  300 	.dw #0x00c3
      00015E C5 00                  301 	.dw #0x00c5
      000160 C6 00                  302 	.dw #0x00c6
      000162 C8 00                  303 	.dw #0x00c8
      000164 C9 00                  304 	.dw #0x00c9
      000166 CB 00                  305 	.dw #0x00cb
      000168 CC 00                  306 	.dw #0x00cc
      00016A CE 00                  307 	.dw #0x00ce
      00016C CF 00                  308 	.dw #0x00cf
      00016E D0 00                  309 	.dw #0x00d0
      000170 D2 00                  310 	.dw #0x00d2
      000172 D3 00                  311 	.dw #0x00d3
      000174 D4 00                  312 	.dw #0x00d4
      000176 D6 00                  313 	.dw #0x00d6
      000178 D7 00                  314 	.dw #0x00d7
      00017A D8 00                  315 	.dw #0x00d8
      00017C DA 00                  316 	.dw #0x00da
      00017E DB 00                  317 	.dw #0x00db
      000180 DC 00                  318 	.dw #0x00dc
      000182 DD 00                  319 	.dw #0x00dd
      000184 DF 00                  320 	.dw #0x00df
      000186 E0 00                  321 	.dw #0x00e0
      000188 E1 00                  322 	.dw #0x00e1
      00018A E2 00                  323 	.dw #0x00e2
      00018C E3 00                  324 	.dw #0x00e3
      00018E E4 00                  325 	.dw #0x00e4
      000190 E5 00                  326 	.dw #0x00e5
      000192 E7 00                  327 	.dw #0x00e7
      000194 E8 00                  328 	.dw #0x00e8
      000196 E9 00                  329 	.dw #0x00e9
      000198 EA 00                  330 	.dw #0x00ea
      00019A EA 00                  331 	.dw #0x00ea
      00019C EB 00                  332 	.dw #0x00eb
      00019E EC 00                  333 	.dw #0x00ec
      0001A0 ED 00                  334 	.dw #0x00ed
      0001A2 EE 00                  335 	.dw #0x00ee
      0001A4 EF 00                  336 	.dw #0x00ef
      0001A6 F0 00                  337 	.dw #0x00f0
      0001A8 F1 00                  338 	.dw #0x00f1
      0001AA F1 00                  339 	.dw #0x00f1
      0001AC F2 00                  340 	.dw #0x00f2
      0001AE F3 00                  341 	.dw #0x00f3
      0001B0 F3 00                  342 	.dw #0x00f3
      0001B2 F4 00                  343 	.dw #0x00f4
      0001B4 F5 00                  344 	.dw #0x00f5
      0001B6 F5 00                  345 	.dw #0x00f5
      0001B8 F6 00                  346 	.dw #0x00f6
      0001BA F6 00                  347 	.dw #0x00f6
      0001BC F7 00                  348 	.dw #0x00f7
      0001BE F7 00                  349 	.dw #0x00f7
      0001C0 F8 00                  350 	.dw #0x00f8
      0001C2 F8 00                  351 	.dw #0x00f8
      0001C4 F9 00                  352 	.dw #0x00f9
      0001C6 F9 00                  353 	.dw #0x00f9
      0001C8 FA 00                  354 	.dw #0x00fa
      0001CA FA 00                  355 	.dw #0x00fa
      0001CC FA 00                  356 	.dw #0x00fa
      0001CE FB 00                  357 	.dw #0x00fb
      0001D0 FB 00                  358 	.dw #0x00fb
      0001D2 FB 00                  359 	.dw #0x00fb
      0001D4 FC 00                  360 	.dw #0x00fc
      0001D6 FC 00                  361 	.dw #0x00fc
      0001D8 FC 00                  362 	.dw #0x00fc
      0001DA FC 00                  363 	.dw #0x00fc
      0001DC FD 00                  364 	.dw #0x00fd
      0001DE FD 00                  365 	.dw #0x00fd
      0001E0 FD 00                  366 	.dw #0x00fd
      0001E2 FD 00                  367 	.dw #0x00fd
      0001E4 FE 00                  368 	.dw #0x00fe
      0001E6 FE 00                  369 	.dw #0x00fe
      0001E8 FE 00                  370 	.dw #0x00fe
      0001EA FE 00                  371 	.dw #0x00fe
      0001EC FE 00                  372 	.dw #0x00fe
      0001EE FE 00                  373 	.dw #0x00fe
      0001F0 FF 00                  374 	.dw #0x00ff
      0001F2 FF 00                  375 	.dw #0x00ff
      0001F4 FF 00                  376 	.dw #0x00ff
      0001F6 FF 00                  377 	.dw #0x00ff
      0001F8 FF 00                  378 	.dw #0x00ff
      0001FA FF 00                  379 	.dw #0x00ff
      0001FC FF 00                  380 	.dw #0x00ff
      0001FE FF 00                  381 	.dw #0x00ff
      000200 FF 00                  382 	.dw #0x00ff
      000202 FF 00                  383 	.dw #0x00ff
      000204 FF 00                  384 	.dw #0x00ff
      000206 FF 00                  385 	.dw #0x00ff
      000208 FF 00                  386 	.dw #0x00ff
      00020A FF 00                  387 	.dw #0x00ff
      00020C FF 00                  388 	.dw #0x00ff
      00020E FF 00                  389 	.dw #0x00ff
      000210 FF 00                  390 	.dw #0x00ff
      000212 FF 00                  391 	.dw #0x00ff
      000214 FF 00                  392 	.dw #0x00ff
      000216 FF 00                  393 	.dw #0x00ff
      000218 FF 00                  394 	.dw #0x00ff
      00021A FF 00                  395 	.dw #0x00ff
      00021C FF 00                  396 	.dw #0x00ff
      00021E FF 00                  397 	.dw #0x00ff
      000220 FE 00                  398 	.dw #0x00fe
      000222 FE 00                  399 	.dw #0x00fe
      000224 FE 00                  400 	.dw #0x00fe
      000226 FE 00                  401 	.dw #0x00fe
      000228 FE 00                  402 	.dw #0x00fe
      00022A FE 00                  403 	.dw #0x00fe
      00022C FD 00                  404 	.dw #0x00fd
      00022E FD 00                  405 	.dw #0x00fd
      000230 FD 00                  406 	.dw #0x00fd
      000232 FD 00                  407 	.dw #0x00fd
      000234 FC 00                  408 	.dw #0x00fc
      000236 FC 00                  409 	.dw #0x00fc
      000238 FC 00                  410 	.dw #0x00fc
      00023A FC 00                  411 	.dw #0x00fc
      00023C FB 00                  412 	.dw #0x00fb
      00023E FB 00                  413 	.dw #0x00fb
      000240 FB 00                  414 	.dw #0x00fb
      000242 FA 00                  415 	.dw #0x00fa
      000244 FA 00                  416 	.dw #0x00fa
      000246 FA 00                  417 	.dw #0x00fa
      000248 F9 00                  418 	.dw #0x00f9
      00024A F9 00                  419 	.dw #0x00f9
      00024C F8 00                  420 	.dw #0x00f8
      00024E F8 00                  421 	.dw #0x00f8
      000250 F7 00                  422 	.dw #0x00f7
      000252 F7 00                  423 	.dw #0x00f7
      000254 F6 00                  424 	.dw #0x00f6
      000256 F6 00                  425 	.dw #0x00f6
      000258 F5 00                  426 	.dw #0x00f5
      00025A F5 00                  427 	.dw #0x00f5
      00025C F4 00                  428 	.dw #0x00f4
      00025E F3 00                  429 	.dw #0x00f3
      000260 F3 00                  430 	.dw #0x00f3
      000262 F2 00                  431 	.dw #0x00f2
      000264 F1 00                  432 	.dw #0x00f1
      000266 F1 00                  433 	.dw #0x00f1
      000268 F0 00                  434 	.dw #0x00f0
      00026A EF 00                  435 	.dw #0x00ef
      00026C EE 00                  436 	.dw #0x00ee
      00026E ED 00                  437 	.dw #0x00ed
      000270 EC 00                  438 	.dw #0x00ec
      000272 EB 00                  439 	.dw #0x00eb
      000274 EA 00                  440 	.dw #0x00ea
      000276 EA 00                  441 	.dw #0x00ea
      000278 E9 00                  442 	.dw #0x00e9
      00027A E8 00                  443 	.dw #0x00e8
      00027C E7 00                  444 	.dw #0x00e7
      00027E E5 00                  445 	.dw #0x00e5
      000280 E4 00                  446 	.dw #0x00e4
      000282 E3 00                  447 	.dw #0x00e3
      000284 E2 00                  448 	.dw #0x00e2
      000286 E1 00                  449 	.dw #0x00e1
      000288 E0 00                  450 	.dw #0x00e0
      00028A DF 00                  451 	.dw #0x00df
      00028C DD 00                  452 	.dw #0x00dd
      00028E DC 00                  453 	.dw #0x00dc
      000290 DB 00                  454 	.dw #0x00db
      000292 DA 00                  455 	.dw #0x00da
      000294 D8 00                  456 	.dw #0x00d8
      000296 D7 00                  457 	.dw #0x00d7
      000298 D6 00                  458 	.dw #0x00d6
      00029A D4 00                  459 	.dw #0x00d4
      00029C D3 00                  460 	.dw #0x00d3
      00029E D2 00                  461 	.dw #0x00d2
      0002A0 D0 00                  462 	.dw #0x00d0
      0002A2 CF 00                  463 	.dw #0x00cf
      0002A4 CE 00                  464 	.dw #0x00ce
      0002A6 CC 00                  465 	.dw #0x00cc
      0002A8 CB 00                  466 	.dw #0x00cb
      0002AA C9 00                  467 	.dw #0x00c9
      0002AC C8 00                  468 	.dw #0x00c8
      0002AE C6 00                  469 	.dw #0x00c6
      0002B0 C5 00                  470 	.dw #0x00c5
      0002B2 C3 00                  471 	.dw #0x00c3
      0002B4 C2 00                  472 	.dw #0x00c2
      0002B6 C0 00                  473 	.dw #0x00c0
      0002B8 BE 00                  474 	.dw #0x00be
      0002BA BD 00                  475 	.dw #0x00bd
      0002BC BB 00                  476 	.dw #0x00bb
      0002BE                        477 _cos_lut:
      0002BE 00 01                  478 	.dw #0x0100
      0002C0 00 01                  479 	.dw #0x0100
      0002C2 00 01                  480 	.dw #0x0100
      0002C4 FF 00                  481 	.dw #0x00ff
      0002C6 FF 00                  482 	.dw #0x00ff
      0002C8 FF 00                  483 	.dw #0x00ff
      0002CA FE 00                  484 	.dw #0x00fe
      0002CC FE 00                  485 	.dw #0x00fe
      0002CE FE 00                  486 	.dw #0x00fe
      0002D0 FE 00                  487 	.dw #0x00fe
      0002D2 FE 00                  488 	.dw #0x00fe
      0002D4 FE 00                  489 	.dw #0x00fe
      0002D6 FD 00                  490 	.dw #0x00fd
      0002D8 FD 00                  491 	.dw #0x00fd
      0002DA FD 00                  492 	.dw #0x00fd
      0002DC FD 00                  493 	.dw #0x00fd
      0002DE FC 00                  494 	.dw #0x00fc
      0002E0 FC 00                  495 	.dw #0x00fc
      0002E2 FC 00                  496 	.dw #0x00fc
      0002E4 FC 00                  497 	.dw #0x00fc
      0002E6 FB 00                  498 	.dw #0x00fb
      0002E8 FB 00                  499 	.dw #0x00fb
      0002EA FB 00                  500 	.dw #0x00fb
      0002EC FA 00                  501 	.dw #0x00fa
      0002EE FA 00                  502 	.dw #0x00fa
      0002F0 FA 00                  503 	.dw #0x00fa
      0002F2 F9 00                  504 	.dw #0x00f9
      0002F4 F9 00                  505 	.dw #0x00f9
      0002F6 F8 00                  506 	.dw #0x00f8
      0002F8 F8 00                  507 	.dw #0x00f8
      0002FA F7 00                  508 	.dw #0x00f7
      0002FC F7 00                  509 	.dw #0x00f7
      0002FE F6 00                  510 	.dw #0x00f6
      000300 F6 00                  511 	.dw #0x00f6
      000302 F5 00                  512 	.dw #0x00f5
      000304 F5 00                  513 	.dw #0x00f5
      000306 F4 00                  514 	.dw #0x00f4
      000308 F3 00                  515 	.dw #0x00f3
      00030A F3 00                  516 	.dw #0x00f3
      00030C F2 00                  517 	.dw #0x00f2
      00030E F1 00                  518 	.dw #0x00f1
      000310 F1 00                  519 	.dw #0x00f1
      000312 F0 00                  520 	.dw #0x00f0
      000314 EF 00                  521 	.dw #0x00ef
      000316 EE 00                  522 	.dw #0x00ee
      000318 ED 00                  523 	.dw #0x00ed
      00031A EC 00                  524 	.dw #0x00ec
      00031C EB 00                  525 	.dw #0x00eb
      00031E EA 00                  526 	.dw #0x00ea
      000320 EA 00                  527 	.dw #0x00ea
      000322 E9 00                  528 	.dw #0x00e9
      000324 E8 00                  529 	.dw #0x00e8
      000326 E7 00                  530 	.dw #0x00e7
      000328 E5 00                  531 	.dw #0x00e5
      00032A E4 00                  532 	.dw #0x00e4
      00032C E3 00                  533 	.dw #0x00e3
      00032E E2 00                  534 	.dw #0x00e2
      000330 E1 00                  535 	.dw #0x00e1
      000332 E0 00                  536 	.dw #0x00e0
      000334 DF 00                  537 	.dw #0x00df
      000336 DD 00                  538 	.dw #0x00dd
      000338 DC 00                  539 	.dw #0x00dc
      00033A DB 00                  540 	.dw #0x00db
      00033C DA 00                  541 	.dw #0x00da
      00033E D8 00                  542 	.dw #0x00d8
      000340 D7 00                  543 	.dw #0x00d7
      000342 D6 00                  544 	.dw #0x00d6
      000344 D4 00                  545 	.dw #0x00d4
      000346 D3 00                  546 	.dw #0x00d3
      000348 D2 00                  547 	.dw #0x00d2
      00034A D0 00                  548 	.dw #0x00d0
      00034C CF 00                  549 	.dw #0x00cf
      00034E CE 00                  550 	.dw #0x00ce
      000350 CC 00                  551 	.dw #0x00cc
      000352 CB 00                  552 	.dw #0x00cb
      000354 C9 00                  553 	.dw #0x00c9
      000356 C8 00                  554 	.dw #0x00c8
      000358 C6 00                  555 	.dw #0x00c6
      00035A C5 00                  556 	.dw #0x00c5
      00035C C3 00                  557 	.dw #0x00c3
      00035E C2 00                  558 	.dw #0x00c2
      000360 C0 00                  559 	.dw #0x00c0
      000362 BE 00                  560 	.dw #0x00be
      000364 BD 00                  561 	.dw #0x00bd
      000366 BB 00                  562 	.dw #0x00bb
      000368 B9 00                  563 	.dw #0x00b9
      00036A B8 00                  564 	.dw #0x00b8
      00036C B6 00                  565 	.dw #0x00b6
      00036E B5 00                  566 	.dw #0x00b5
      000370 B2 00                  567 	.dw #0x00b2
      000372 B1 00                  568 	.dw #0x00b1
      000374 AF 00                  569 	.dw #0x00af
      000376 AD 00                  570 	.dw #0x00ad
      000378 AB 00                  571 	.dw #0x00ab
      00037A A9 00                  572 	.dw #0x00a9
      00037C A7 00                  573 	.dw #0x00a7
      00037E A5 00                  574 	.dw #0x00a5
      000380 A3 00                  575 	.dw #0x00a3
      000382 A1 00                  576 	.dw #0x00a1
      000384 9F 00                  577 	.dw #0x009f
      000386 9D 00                  578 	.dw #0x009d
      000388 9B 00                  579 	.dw #0x009b
      00038A 99 00                  580 	.dw #0x0099
      00038C 97 00                  581 	.dw #0x0097
      00038E 95 00                  582 	.dw #0x0095
      000390 93 00                  583 	.dw #0x0093
      000392 90 00                  584 	.dw #0x0090
      000394 8E 00                  585 	.dw #0x008e
      000396 8C 00                  586 	.dw #0x008c
      000398 8A 00                  587 	.dw #0x008a
      00039A 87 00                  588 	.dw #0x0087
      00039C 85 00                  589 	.dw #0x0085
      00039E 83 00                  590 	.dw #0x0083
      0003A0 80 00                  591 	.dw #0x0080
      0003A2 7E 00                  592 	.dw #0x007e
      0003A4 7C 00                  593 	.dw #0x007c
      0003A6 79 00                  594 	.dw #0x0079
      0003A8 77 00                  595 	.dw #0x0077
      0003AA 74 00                  596 	.dw #0x0074
      0003AC 72 00                  597 	.dw #0x0072
      0003AE 6F 00                  598 	.dw #0x006f
      0003B0 6D 00                  599 	.dw #0x006d
      0003B2 6A 00                  600 	.dw #0x006a
      0003B4 68 00                  601 	.dw #0x0068
      0003B6 65 00                  602 	.dw #0x0065
      0003B8 62 00                  603 	.dw #0x0062
      0003BA 5F 00                  604 	.dw #0x005f
      0003BC 5D 00                  605 	.dw #0x005d
      0003BE 5A 00                  606 	.dw #0x005a
      0003C0 57 00                  607 	.dw #0x0057
      0003C2 54 00                  608 	.dw #0x0054
      0003C4 51 00                  609 	.dw #0x0051
      0003C6 4E 00                  610 	.dw #0x004e
      0003C8 4C 00                  611 	.dw #0x004c
      0003CA 49 00                  612 	.dw #0x0049
      0003CC 46 00                  613 	.dw #0x0046
      0003CE 43 00                  614 	.dw #0x0043
      0003D0 40 00                  615 	.dw #0x0040
      0003D2 3D 00                  616 	.dw #0x003d
      0003D4 3A 00                  617 	.dw #0x003a
      0003D6 37 00                  618 	.dw #0x0037
      0003D8 34 00                  619 	.dw #0x0034
      0003DA 31 00                  620 	.dw #0x0031
      0003DC 2E 00                  621 	.dw #0x002e
      0003DE 2B 00                  622 	.dw #0x002b
      0003E0 28 00                  623 	.dw #0x0028
      0003E2 25 00                  624 	.dw #0x0025
      0003E4 22 00                  625 	.dw #0x0022
      0003E6 1F 00                  626 	.dw #0x001f
      0003E8 1C 00                  627 	.dw #0x001c
      0003EA 19 00                  628 	.dw #0x0019
      0003EC 16 00                  629 	.dw #0x0016
      0003EE 13 00                  630 	.dw #0x0013
      0003F0 10 00                  631 	.dw #0x0010
      0003F2 0C 00                  632 	.dw #0x000c
      0003F4 09 00                  633 	.dw #0x0009
      0003F6 06 00                  634 	.dw #0x0006
      0003F8 03 00                  635 	.dw #0x0003
      0003FA 00 00                  636 	.dw #0x0000
      0003FC 00 00                  637 	.dw #0x0000
      0003FE 00 00                  638 	.dw #0x0000
      000400 03 00                  639 	.dw #0x0003
      000402 06 00                  640 	.dw #0x0006
      000404 09 00                  641 	.dw #0x0009
      000406 0C 00                  642 	.dw #0x000c
      000408 10 00                  643 	.dw #0x0010
      00040A 13 00                  644 	.dw #0x0013
      00040C 16 00                  645 	.dw #0x0016
      00040E 19 00                  646 	.dw #0x0019
      000410 1C 00                  647 	.dw #0x001c
      000412 1F 00                  648 	.dw #0x001f
      000414 22 00                  649 	.dw #0x0022
      000416 25 00                  650 	.dw #0x0025
      000418 28 00                  651 	.dw #0x0028
      00041A 2B 00                  652 	.dw #0x002b
      00041C 2E 00                  653 	.dw #0x002e
      00041E 31 00                  654 	.dw #0x0031
      000420 34 00                  655 	.dw #0x0034
      000422 37 00                  656 	.dw #0x0037
      000424 3A 00                  657 	.dw #0x003a
      000426 3D 00                  658 	.dw #0x003d
      000428 40 00                  659 	.dw #0x0040
      00042A 43 00                  660 	.dw #0x0043
      00042C 46 00                  661 	.dw #0x0046
      00042E 49 00                  662 	.dw #0x0049
      000430 4C 00                  663 	.dw #0x004c
      000432 4E 00                  664 	.dw #0x004e
      000434 51 00                  665 	.dw #0x0051
      000436 54 00                  666 	.dw #0x0054
      000438 57 00                  667 	.dw #0x0057
      00043A 5A 00                  668 	.dw #0x005a
      00043C 5D 00                  669 	.dw #0x005d
      00043E 5F 00                  670 	.dw #0x005f
      000440 62 00                  671 	.dw #0x0062
      000442 65 00                  672 	.dw #0x0065
      000444 68 00                  673 	.dw #0x0068
      000446 6A 00                  674 	.dw #0x006a
      000448 6D 00                  675 	.dw #0x006d
      00044A 6F 00                  676 	.dw #0x006f
      00044C 72 00                  677 	.dw #0x0072
      00044E 74 00                  678 	.dw #0x0074
      000450 77 00                  679 	.dw #0x0077
      000452 79 00                  680 	.dw #0x0079
      000454 7C 00                  681 	.dw #0x007c
      000456 7E 00                  682 	.dw #0x007e
      000458 80 00                  683 	.dw #0x0080
      00045A 83 00                  684 	.dw #0x0083
      00045C 85 00                  685 	.dw #0x0085
      00045E 87 00                  686 	.dw #0x0087
      000460 8A 00                  687 	.dw #0x008a
      000462 8C 00                  688 	.dw #0x008c
      000464 8E 00                  689 	.dw #0x008e
      000466 90 00                  690 	.dw #0x0090
      000468 93 00                  691 	.dw #0x0093
      00046A 95 00                  692 	.dw #0x0095
      00046C 97 00                  693 	.dw #0x0097
      00046E 99 00                  694 	.dw #0x0099
      000470 9B 00                  695 	.dw #0x009b
      000472 9D 00                  696 	.dw #0x009d
      000474 9F 00                  697 	.dw #0x009f
      000476 A1 00                  698 	.dw #0x00a1
      000478 A3 00                  699 	.dw #0x00a3
      00047A A5 00                  700 	.dw #0x00a5
      00047C A7 00                  701 	.dw #0x00a7
      00047E A9 00                  702 	.dw #0x00a9
      000480 AB 00                  703 	.dw #0x00ab
      000482 AD 00                  704 	.dw #0x00ad
      000484 AF 00                  705 	.dw #0x00af
      000486 B1 00                  706 	.dw #0x00b1
      000488 B2 00                  707 	.dw #0x00b2
      00048A B4 00                  708 	.dw #0x00b4
      00048C B6 00                  709 	.dw #0x00b6
      00048E B8 00                  710 	.dw #0x00b8
      000490 B9 00                  711 	.dw #0x00b9
      000492 BB 00                  712 	.dw #0x00bb
      000494 BD 00                  713 	.dw #0x00bd
      000496 BE 00                  714 	.dw #0x00be
      000498 C0 00                  715 	.dw #0x00c0
      00049A C2 00                  716 	.dw #0x00c2
      00049C C3 00                  717 	.dw #0x00c3
      00049E C5 00                  718 	.dw #0x00c5
      0004A0 C6 00                  719 	.dw #0x00c6
      0004A2 C8 00                  720 	.dw #0x00c8
      0004A4 C9 00                  721 	.dw #0x00c9
      0004A6 CB 00                  722 	.dw #0x00cb
      0004A8 CC 00                  723 	.dw #0x00cc
      0004AA CE 00                  724 	.dw #0x00ce
      0004AC CF 00                  725 	.dw #0x00cf
      0004AE D0 00                  726 	.dw #0x00d0
      0004B0 D2 00                  727 	.dw #0x00d2
      0004B2 D3 00                  728 	.dw #0x00d3
      0004B4 D4 00                  729 	.dw #0x00d4
      0004B6 D6 00                  730 	.dw #0x00d6
      0004B8 D7 00                  731 	.dw #0x00d7
      0004BA D8 00                  732 	.dw #0x00d8
      0004BC DA 00                  733 	.dw #0x00da
                                    734 ;src/math-stuff.c:147: static void rotate_xz_out(const Vec3 *v, uint8_t a, Vec3 *out) {
                                    735 ;	---------------------------------
                                    736 ; Function rotate_xz_out
                                    737 ; ---------------------------------
      0004BE                        738 _rotate_xz_out:
      0004BE DD E5            [15]  739 	push	ix
      0004C0 DD 21 00 00      [14]  740 	ld	ix,#0
      0004C4 DD 39            [15]  741 	add	ix,sp
      0004C6 FD 21 E8 FF      [14]  742 	ld	iy, #-24
      0004CA FD 39            [15]  743 	add	iy, sp
      0004CC FD F9            [10]  744 	ld	sp, iy
      0004CE DD 75 FE         [19]  745 	ld	-2 (ix), l
      0004D1 DD 74 FF         [19]  746 	ld	-1 (ix), h
                                    747 ;src/math-stuff.c:149: lut_rot(a, &c, &s);
      0004D4 21 06 00         [10]  748 	ld	hl, #6
      0004D7 39               [11]  749 	add	hl, sp
      0004D8 E5               [11]  750 	push	hl
      0004D9 21 06 00         [10]  751 	ld	hl, #6
      0004DC 39               [11]  752 	add	hl, sp
      0004DD EB               [ 4]  753 	ex	de, hl
      0004DE DD 7E 04         [19]  754 	ld	a, 4 (ix)
      0004E1 CDr85r00         [17]  755 	call	_lut_rot
                                    756 ;src/math-stuff.c:151: q32_t tx = (q32_t)fmul(v->x, c) - (q32_t)fmul(v->z, s);
      0004E4 DD 7E EC         [19]  757 	ld	a, -20 (ix)
      0004E7 DD 77 FC         [19]  758 	ld	-4 (ix), a
      0004EA DD 7E ED         [19]  759 	ld	a, -19 (ix)
      0004ED DD 77 FD         [19]  760 	ld	-3 (ix), a
      0004F0 DD 6E FE         [19]  761 	ld	l, -2 (ix)
      0004F3 DD 66 FF         [19]  762 	ld	h, -1 (ix)
      0004F6 4E               [ 7]  763 	ld	c, (hl)
      0004F7 23               [ 6]  764 	inc	hl
      0004F8 46               [ 7]  765 	ld	b, (hl)
      0004F9 59               [ 4]  766 	ld	e, c
      0004FA 50               [ 4]  767 	ld	d, b
      0004FB 7A               [ 4]  768 	ld	a, d
      0004FC 07               [ 4]  769 	rlca
      0004FD ED 62            [15]  770 	sbc	hl, hl
      0004FF DD 7E FC         [19]  771 	ld	a, -4 (ix)
      000502 DD 77 F0         [19]  772 	ld	-16 (ix), a
      000505 DD 7E FD         [19]  773 	ld	a, -3 (ix)
      000508 DD 77 F1         [19]  774 	ld	-15 (ix), a
      00050B 07               [ 4]  775 	rlca
      00050C 9F               [ 4]  776 	sbc	a, a
      00050D DD 77 F2         [19]  777 	ld	-14 (ix), a
      000510 DD 77 F3         [19]  778 	ld	-13 (ix), a
      000513 C5               [11]  779 	push	bc
      000514 E5               [11]  780 	push	hl
      000515 DD 6E F2         [19]  781 	ld	l, -14 (ix)
                                    782 ;	spillPairReg hl
                                    783 ;	spillPairReg hl
      000518 DD 66 F3         [19]  784 	ld	h, -13 (ix)
                                    785 ;	spillPairReg hl
                                    786 ;	spillPairReg hl
      00051B E3               [19]  787 	ex	(sp), hl
      00051C E5               [11]  788 	push	hl
      00051D DD 6E F0         [19]  789 	ld	l, -16 (ix)
                                    790 ;	spillPairReg hl
                                    791 ;	spillPairReg hl
      000520 DD 66 F1         [19]  792 	ld	h, -15 (ix)
                                    793 ;	spillPairReg hl
                                    794 ;	spillPairReg hl
      000523 E3               [19]  795 	ex	(sp), hl
      000524 CDr00r00         [17]  796 	call	__mullong
      000527 F1               [10]  797 	pop	af
      000528 F1               [10]  798 	pop	af
      000529 C1               [10]  799 	pop	bc
      00052A 5A               [ 4]  800 	ld	e, d
      00052B 55               [ 4]  801 	ld	d, l
      00052C DD 73 F4         [19]  802 	ld	-12 (ix), e
      00052F DD 72 F5         [19]  803 	ld	-11 (ix), d
      000532 DD 5E EE         [19]  804 	ld	e, -18 (ix)
      000535 DD 56 EF         [19]  805 	ld	d, -17 (ix)
      000538 DD 6E FE         [19]  806 	ld	l, -2 (ix)
                                    807 ;	spillPairReg hl
                                    808 ;	spillPairReg hl
      00053B DD 66 FF         [19]  809 	ld	h, -1 (ix)
                                    810 ;	spillPairReg hl
                                    811 ;	spillPairReg hl
      00053E 23               [ 6]  812 	inc	hl
      00053F 23               [ 6]  813 	inc	hl
      000540 23               [ 6]  814 	inc	hl
      000541 23               [ 6]  815 	inc	hl
      000542 7E               [ 7]  816 	ld	a, (hl)
      000543 DD 77 F6         [19]  817 	ld	-10 (ix), a
      000546 23               [ 6]  818 	inc	hl
      000547 7E               [ 7]  819 	ld	a, (hl)
      000548 DD 77 F7         [19]  820 	ld	-9 (ix), a
      00054B DD 6E F6         [19]  821 	ld	l, -10 (ix)
                                    822 ;	spillPairReg hl
                                    823 ;	spillPairReg hl
      00054E DD 66 F7         [19]  824 	ld	h, -9 (ix)
                                    825 ;	spillPairReg hl
                                    826 ;	spillPairReg hl
      000551 DD 75 E8         [19]  827 	ld	-24 (ix), l
      000554 7C               [ 4]  828 	ld	a, h
      000555 DD 77 E9         [19]  829 	ld	-23 (ix), a
      000558 07               [ 4]  830 	rlca
      000559 9F               [ 4]  831 	sbc	a, a
      00055A DD 77 EA         [19]  832 	ld	-22 (ix), a
      00055D DD 77 EB         [19]  833 	ld	-21 (ix), a
      000560 DD 73 F8         [19]  834 	ld	-8 (ix), e
      000563 7A               [ 4]  835 	ld	a, d
      000564 DD 77 F9         [19]  836 	ld	-7 (ix), a
      000567 07               [ 4]  837 	rlca
      000568 9F               [ 4]  838 	sbc	a, a
      000569 DD 77 FA         [19]  839 	ld	-6 (ix), a
      00056C DD 77 FB         [19]  840 	ld	-5 (ix), a
      00056F C5               [11]  841 	push	bc
      000570 DD 6E FA         [19]  842 	ld	l, -6 (ix)
                                    843 ;	spillPairReg hl
                                    844 ;	spillPairReg hl
      000573 DD 66 FB         [19]  845 	ld	h, -5 (ix)
                                    846 ;	spillPairReg hl
                                    847 ;	spillPairReg hl
      000576 E5               [11]  848 	push	hl
      000577 DD 6E F8         [19]  849 	ld	l, -8 (ix)
                                    850 ;	spillPairReg hl
                                    851 ;	spillPairReg hl
      00057A DD 66 F9         [19]  852 	ld	h, -7 (ix)
                                    853 ;	spillPairReg hl
                                    854 ;	spillPairReg hl
      00057D E5               [11]  855 	push	hl
      00057E DD 5E E8         [19]  856 	ld	e, -24 (ix)
      000581 DD 56 E9         [19]  857 	ld	d, -23 (ix)
      000584 DD 6E EA         [19]  858 	ld	l, -22 (ix)
                                    859 ;	spillPairReg hl
                                    860 ;	spillPairReg hl
      000587 DD 66 EB         [19]  861 	ld	h, -21 (ix)
                                    862 ;	spillPairReg hl
                                    863 ;	spillPairReg hl
      00058A CDr00r00         [17]  864 	call	__mullong
      00058D F1               [10]  865 	pop	af
      00058E F1               [10]  866 	pop	af
      00058F C1               [10]  867 	pop	bc
      000590 5A               [ 4]  868 	ld	e, d
      000591 55               [ 4]  869 	ld	d, l
      000592 DD 7E F4         [19]  870 	ld	a, -12 (ix)
      000595 93               [ 4]  871 	sub	a, e
      000596 DD 77 FC         [19]  872 	ld	-4 (ix), a
      000599 DD 7E F5         [19]  873 	ld	a, -11 (ix)
      00059C 9A               [ 4]  874 	sbc	a, d
      00059D DD 77 FD         [19]  875 	ld	-3 (ix), a
                                    876 ;src/math-stuff.c:152: q32_t tz = (q32_t)fmul(v->x, s) + (q32_t)fmul(v->z, c);
      0005A0 78               [ 4]  877 	ld	a, b
      0005A1 07               [ 4]  878 	rlca
      0005A2 ED 62            [15]  879 	sbc	hl, hl
      0005A4 DD 5E FA         [19]  880 	ld	e, -6 (ix)
      0005A7 DD 56 FB         [19]  881 	ld	d, -5 (ix)
      0005AA D5               [11]  882 	push	de
      0005AB DD 5E F8         [19]  883 	ld	e, -8 (ix)
      0005AE DD 56 F9         [19]  884 	ld	d, -7 (ix)
      0005B1 D5               [11]  885 	push	de
      0005B2 59               [ 4]  886 	ld	e, c
      0005B3 50               [ 4]  887 	ld	d, b
      0005B4 CDr00r00         [17]  888 	call	__mullong
      0005B7 F1               [10]  889 	pop	af
      0005B8 F1               [10]  890 	pop	af
      0005B9 4A               [ 4]  891 	ld	c, d
      0005BA 45               [ 4]  892 	ld	b, l
      0005BB DD 5E F6         [19]  893 	ld	e, -10 (ix)
      0005BE DD 7E F7         [19]  894 	ld	a, -9 (ix)
      0005C1 57               [ 4]  895 	ld	d, a
      0005C2 07               [ 4]  896 	rlca
      0005C3 ED 62            [15]  897 	sbc	hl, hl
      0005C5 C5               [11]  898 	push	bc
      0005C6 E5               [11]  899 	push	hl
      0005C7 DD 6E F2         [19]  900 	ld	l, -14 (ix)
                                    901 ;	spillPairReg hl
                                    902 ;	spillPairReg hl
      0005CA DD 66 F3         [19]  903 	ld	h, -13 (ix)
                                    904 ;	spillPairReg hl
                                    905 ;	spillPairReg hl
      0005CD E3               [19]  906 	ex	(sp), hl
      0005CE E5               [11]  907 	push	hl
      0005CF DD 6E F0         [19]  908 	ld	l, -16 (ix)
                                    909 ;	spillPairReg hl
                                    910 ;	spillPairReg hl
      0005D2 DD 66 F1         [19]  911 	ld	h, -15 (ix)
                                    912 ;	spillPairReg hl
                                    913 ;	spillPairReg hl
      0005D5 E3               [19]  914 	ex	(sp), hl
      0005D6 CDr00r00         [17]  915 	call	__mullong
      0005D9 F1               [10]  916 	pop	af
      0005DA F1               [10]  917 	pop	af
      0005DB C1               [10]  918 	pop	bc
      0005DC 65               [ 4]  919 	ld	h, l
                                    920 ;	spillPairReg hl
                                    921 ;	spillPairReg hl
      0005DD 6A               [ 4]  922 	ld	l, d
                                    923 ;	spillPairReg hl
                                    924 ;	spillPairReg hl
      0005DE 09               [11]  925 	add	hl, bc
      0005DF DD 75 FA         [19]  926 	ld	-6 (ix), l
      0005E2 DD 74 FB         [19]  927 	ld	-5 (ix), h
                                    928 ;src/math-stuff.c:153: out->x = (q8_8_t)tx;
      0005E5 DD 4E 05         [19]  929 	ld	c, 5 (ix)
      0005E8 DD 46 06         [19]  930 	ld	b, 6 (ix)
      0005EB 69               [ 4]  931 	ld	l, c
      0005EC 60               [ 4]  932 	ld	h, b
      0005ED DD 7E FC         [19]  933 	ld	a, -4 (ix)
      0005F0 77               [ 7]  934 	ld	(hl), a
      0005F1 23               [ 6]  935 	inc	hl
      0005F2 DD 7E FD         [19]  936 	ld	a, -3 (ix)
      0005F5 77               [ 7]  937 	ld	(hl), a
                                    938 ;src/math-stuff.c:154: out->y = v->y;
      0005F6 59               [ 4]  939 	ld	e, c
      0005F7 50               [ 4]  940 	ld	d, b
      0005F8 13               [ 6]  941 	inc	de
      0005F9 13               [ 6]  942 	inc	de
      0005FA DD 6E FE         [19]  943 	ld	l, -2 (ix)
                                    944 ;	spillPairReg hl
                                    945 ;	spillPairReg hl
      0005FD DD 66 FF         [19]  946 	ld	h, -1 (ix)
                                    947 ;	spillPairReg hl
                                    948 ;	spillPairReg hl
      000600 23               [ 6]  949 	inc	hl
      000601 23               [ 6]  950 	inc	hl
      000602 7E               [ 7]  951 	ld	a, (hl)
      000603 DD 77 FC         [19]  952 	ld	-4 (ix), a
      000606 23               [ 6]  953 	inc	hl
      000607 7E               [ 7]  954 	ld	a, (hl)
      000608 DD 77 FD         [19]  955 	ld	-3 (ix), a
      00060B DD 7E FC         [19]  956 	ld	a, -4 (ix)
      00060E 12               [ 7]  957 	ld	(de), a
      00060F 13               [ 6]  958 	inc	de
      000610 DD 7E FD         [19]  959 	ld	a, -3 (ix)
      000613 12               [ 7]  960 	ld	(de), a
                                    961 ;src/math-stuff.c:155: out->z = (q8_8_t)tz;
      000614 03               [ 6]  962 	inc	bc
      000615 03               [ 6]  963 	inc	bc
      000616 03               [ 6]  964 	inc	bc
      000617 03               [ 6]  965 	inc	bc
      000618 DD 7E FA         [19]  966 	ld	a, -6 (ix)
      00061B 02               [ 7]  967 	ld	(bc), a
      00061C 03               [ 6]  968 	inc	bc
      00061D DD 7E FB         [19]  969 	ld	a, -5 (ix)
      000620 02               [ 7]  970 	ld	(bc), a
                                    971 ;src/math-stuff.c:156: }
      000621 DD F9            [10]  972 	ld	sp, ix
      000623 DD E1            [14]  973 	pop	ix
      000625 E1               [10]  974 	pop	hl
      000626 F1               [10]  975 	pop	af
      000627 33               [ 6]  976 	inc	sp
      000628 E9               [ 4]  977 	jp	(hl)
                                    978 ;src/math-stuff.c:159: static void translate_z_out(const Vec3 *v, q8_8_t addz, Vec3 *out) {
                                    979 ;	---------------------------------
                                    980 ; Function translate_z_out
                                    981 ; ---------------------------------
      000629                        982 _translate_z_out:
      000629 DD E5            [15]  983 	push	ix
      00062B DD 21 00 00      [14]  984 	ld	ix,#0
      00062F DD 39            [15]  985 	add	ix,sp
      000631 F5               [11]  986 	push	af
                                    987 ;src/math-stuff.c:160: *out = *v;
      000632 DD 4E 04         [19]  988 	ld	c, 4 (ix)
      000635 DD 46 05         [19]  989 	ld	b, 5 (ix)
      000638 33               [ 6]  990 	inc	sp
      000639 33               [ 6]  991 	inc	sp
      00063A C5               [11]  992 	push	bc
      00063B D5               [11]  993 	push	de
      00063C C5               [11]  994 	push	bc
      00063D DD 5E FE         [19]  995 	ld	e, -2 (ix)
      000640 DD 56 FF         [19]  996 	ld	d, -1 (ix)
      000643 01 06 00         [10]  997 	ld	bc, #0x0006
      000646 ED B0            [21]  998 	ldir
      000648 C1               [10]  999 	pop	bc
      000649 D1               [10] 1000 	pop	de
                                   1001 ;src/math-stuff.c:161: out->z = (q8_8_t)((q32_t)out->z + (q32_t)addz);
      00064A 21 04 00         [10] 1002 	ld	hl, #0x0004
      00064D 09               [11] 1003 	add	hl, bc
      00064E 7E               [ 7] 1004 	ld	a, (hl)
      00064F 23               [ 6] 1005 	inc	hl
      000650 46               [ 7] 1006 	ld	b, (hl)
      000651 2B               [ 6] 1007 	dec	hl
      000652 83               [ 4] 1008 	add	a, e
      000653 4F               [ 4] 1009 	ld	c, a
      000654 78               [ 4] 1010 	ld	a, b
      000655 8A               [ 4] 1011 	adc	a, d
      000656 71               [ 7] 1012 	ld	(hl), c
      000657 23               [ 6] 1013 	inc	hl
      000658 77               [ 7] 1014 	ld	(hl), a
                                   1015 ;src/math-stuff.c:162: }
      000659 DD F9            [10] 1016 	ld	sp, ix
      00065B DD E1            [14] 1017 	pop	ix
      00065D E1               [10] 1018 	pop	hl
      00065E F1               [10] 1019 	pop	af
      00065F E9               [ 4] 1020 	jp	(hl)
                                   1021 ;src/math-stuff.c:165: static void project_out(const Vec3 *v, Vec3 *out) {
                                   1022 ;	---------------------------------
                                   1023 ; Function project_out
                                   1024 ; ---------------------------------
      000660                       1025 _project_out:
      000660 DD E5            [15] 1026 	push	ix
      000662 DD 21 00 00      [14] 1027 	ld	ix,#0
      000666 DD 39            [15] 1028 	add	ix,sp
      000668 FD 21 F0 FF      [14] 1029 	ld	iy, #-16
      00066C FD 39            [15] 1030 	add	iy, sp
      00066E FD F9            [10] 1031 	ld	sp, iy
      000670 DD 75 FE         [19] 1032 	ld	-2 (ix), l
      000673 DD 74 FF         [19] 1033 	ld	-1 (ix), h
      000676 DD 73 FC         [19] 1034 	ld	-4 (ix), e
      000679 DD 72 FD         [19] 1035 	ld	-3 (ix), d
                                   1036 ;src/math-stuff.c:167: q8_8_t z = v->z;
      00067C DD 7E FE         [19] 1037 	ld	a, -2 (ix)
      00067F DD 77 FA         [19] 1038 	ld	-6 (ix), a
      000682 DD 7E FF         [19] 1039 	ld	a, -1 (ix)
      000685 DD 77 FB         [19] 1040 	ld	-5 (ix), a
      000688 DD 6E FA         [19] 1041 	ld	l, -6 (ix)
      00068B DD 66 FB         [19] 1042 	ld	h, -5 (ix)
      00068E 11 04 00         [10] 1043 	ld	de, #0x0004
      000691 19               [11] 1044 	add	hl, de
      000692 7E               [ 7] 1045 	ld	a, (hl)
      000693 DD 77 F0         [19] 1046 	ld	-16 (ix), a
      000696 23               [ 6] 1047 	inc	hl
      000697 7E               [ 7] 1048 	ld	a, (hl)
                                   1049 ;src/math-stuff.c:168: if (z < Z_MIN) z = Z_MIN;
      000698 DD 77 F1         [19] 1050 	ld	-15 (ix), a
      00069B EE 80            [ 7] 1051 	xor	a, #0x80
      00069D D6 82            [ 7] 1052 	sub	a, #0x82
      00069F 30 04            [12] 1053 	jr	NC, 00102$
      0006A1 21 00 02         [10] 1054 	ld	hl, #0x0200
      0006A4 E3               [19] 1055 	ex	(sp), hl
      0006A5                       1056 00102$:
                                   1057 ;src/math-stuff.c:170: out->x = fdiv(v->x, z); /* (x_fixed << SHIFT)/z_fixed -> Q8.8 */
      0006A5 DD 7E FC         [19] 1058 	ld	a, -4 (ix)
      0006A8 DD 77 F2         [19] 1059 	ld	-14 (ix), a
      0006AB DD 7E FD         [19] 1060 	ld	a, -3 (ix)
      0006AE DD 77 F3         [19] 1061 	ld	-13 (ix), a
      0006B1 DD 6E FE         [19] 1062 	ld	l, -2 (ix)
      0006B4 DD 66 FF         [19] 1063 	ld	h, -1 (ix)
      0006B7 7E               [ 7] 1064 	ld	a, (hl)
      0006B8 DD 77 FA         [19] 1065 	ld	-6 (ix), a
      0006BB 23               [ 6] 1066 	inc	hl
      0006BC 7E               [ 7] 1067 	ld	a, (hl)
      0006BD DD 77 FB         [19] 1068 	ld	-5 (ix), a
                                   1069 ;src/math-stuff.c:87: return (q8_8_t)(((q32_t)a << FP_SHIFT) / (q32_t)b);
      0006C0 DD 7E F0         [19] 1070 	ld	a, -16 (ix)
      0006C3 DD 77 F4         [19] 1071 	ld	-12 (ix), a
      0006C6 DD 7E F1         [19] 1072 	ld	a, -15 (ix)
      0006C9 DD 77 F5         [19] 1073 	ld	-11 (ix), a
      0006CC 07               [ 4] 1074 	rlca
      0006CD 9F               [ 4] 1075 	sbc	a, a
      0006CE DD 77 F6         [19] 1076 	ld	-10 (ix), a
      0006D1 DD 77 F7         [19] 1077 	ld	-9 (ix), a
                                   1078 ;src/math-stuff.c:86: if (b == 0) return (a >= 0) ? INT16_MAX : INT16_MIN;
      0006D4 DD 7E F1         [19] 1079 	ld	a, -15 (ix)
      0006D7 DD B6 F0         [19] 1080 	or	a, -16 (ix)
      0006DA 20 1B            [12] 1081 	jr	NZ, 00104$
      0006DC DD 46 FB         [19] 1082 	ld	b, -5 (ix)
      0006DF CB 78            [ 8] 1083 	bit	7, b
      0006E1 20 0A            [12] 1084 	jr	NZ, 00111$
      0006E3 DD 36 FA FF      [19] 1085 	ld	-6 (ix), #0xff
      0006E7 DD 36 FB 7F      [19] 1086 	ld	-5 (ix), #0x7f
      0006EB 18 43            [12] 1087 	jr	00105$
      0006ED                       1088 00111$:
      0006ED DD 36 FA 00      [19] 1089 	ld	-6 (ix), #0x00
      0006F1 DD 36 FB 80      [19] 1090 	ld	-5 (ix), #0x80
      0006F5 18 39            [12] 1091 	jr	00105$
      0006F7                       1092 00104$:
                                   1093 ;src/math-stuff.c:87: return (q8_8_t)(((q32_t)a << FP_SHIFT) / (q32_t)b);
      0006F7 DD 5E FA         [19] 1094 	ld	e, -6 (ix)
      0006FA DD 7E FB         [19] 1095 	ld	a, -5 (ix)
      0006FD 57               [ 4] 1096 	ld	d, a
      0006FE 07               [ 4] 1097 	rlca
      0006FF 9F               [ 4] 1098 	sbc	a, a
      000700 67               [ 4] 1099 	ld	h, a
                                   1100 ;	spillPairReg hl
                                   1101 ;	spillPairReg hl
      000701 6A               [ 4] 1102 	ld	l, d
                                   1103 ;	spillPairReg hl
                                   1104 ;	spillPairReg hl
      000702 53               [ 4] 1105 	ld	d, e
      000703 1E 00            [ 7] 1106 	ld	e, #0x00
      000705 DD 4E F6         [19] 1107 	ld	c, -10 (ix)
      000708 DD 46 F7         [19] 1108 	ld	b, -9 (ix)
      00070B C5               [11] 1109 	push	bc
      00070C DD 4E F4         [19] 1110 	ld	c, -12 (ix)
      00070F DD 46 F5         [19] 1111 	ld	b, -11 (ix)
      000712 C5               [11] 1112 	push	bc
      000713 CDr00r00         [17] 1113 	call	__divslong
      000716 F1               [10] 1114 	pop	af
      000717 F1               [10] 1115 	pop	af
      000718 DD 73 F8         [19] 1116 	ld	-8 (ix), e
      00071B DD 72 F9         [19] 1117 	ld	-7 (ix), d
      00071E DD 75 FA         [19] 1118 	ld	-6 (ix), l
      000721 DD 74 FB         [19] 1119 	ld	-5 (ix), h
      000724 DD 7E F8         [19] 1120 	ld	a, -8 (ix)
      000727 DD 77 FA         [19] 1121 	ld	-6 (ix), a
      00072A DD 7E F9         [19] 1122 	ld	a, -7 (ix)
      00072D DD 77 FB         [19] 1123 	ld	-5 (ix), a
                                   1124 ;src/math-stuff.c:170: out->x = fdiv(v->x, z); /* (x_fixed << SHIFT)/z_fixed -> Q8.8 */
      000730                       1125 00105$:
      000730 C1               [10] 1126 	pop	bc
      000731 E1               [10] 1127 	pop	hl
      000732 E5               [11] 1128 	push	hl
      000733 C5               [11] 1129 	push	bc
      000734 DD 7E FA         [19] 1130 	ld	a, -6 (ix)
      000737 77               [ 7] 1131 	ld	(hl), a
      000738 23               [ 6] 1132 	inc	hl
      000739 DD 7E FB         [19] 1133 	ld	a, -5 (ix)
      00073C 77               [ 7] 1134 	ld	(hl), a
                                   1135 ;src/math-stuff.c:171: out->y = fdiv(v->y, z); //This is the Algorithm im here for!!!!!!
      00073D DD 7E FC         [19] 1136 	ld	a, -4 (ix)
      000740 C6 02            [ 7] 1137 	add	a, #0x02
      000742 DD 77 F8         [19] 1138 	ld	-8 (ix), a
      000745 DD 7E FD         [19] 1139 	ld	a, -3 (ix)
      000748 CE 00            [ 7] 1140 	adc	a, #0x00
      00074A DD 77 F9         [19] 1141 	ld	-7 (ix), a
      00074D DD 6E FE         [19] 1142 	ld	l, -2 (ix)
                                   1143 ;	spillPairReg hl
                                   1144 ;	spillPairReg hl
      000750 DD 66 FF         [19] 1145 	ld	h, -1 (ix)
                                   1146 ;	spillPairReg hl
                                   1147 ;	spillPairReg hl
      000753 23               [ 6] 1148 	inc	hl
      000754 23               [ 6] 1149 	inc	hl
      000755 7E               [ 7] 1150 	ld	a, (hl)
      000756 DD 77 FA         [19] 1151 	ld	-6 (ix), a
      000759 23               [ 6] 1152 	inc	hl
      00075A 7E               [ 7] 1153 	ld	a, (hl)
      00075B DD 77 FB         [19] 1154 	ld	-5 (ix), a
                                   1155 ;src/math-stuff.c:86: if (b == 0) return (a >= 0) ? INT16_MAX : INT16_MIN;
      00075E DD 7E F1         [19] 1156 	ld	a, -15 (ix)
      000761 DD B6 F0         [19] 1157 	or	a, -16 (ix)
      000764 20 21            [12] 1158 	jr	NZ, 00107$
      000766 DD 46 FB         [19] 1159 	ld	b, -5 (ix)
      000769 CB 78            [ 8] 1160 	bit	7, b
      00076B 20 0A            [12] 1161 	jr	NZ, 00113$
      00076D DD 36 FA FF      [19] 1162 	ld	-6 (ix), #0xff
      000771 DD 36 FB 7F      [19] 1163 	ld	-5 (ix), #0x7f
      000775 18 08            [12] 1164 	jr	00114$
      000777                       1165 00113$:
      000777 DD 36 FA 00      [19] 1166 	ld	-6 (ix), #0x00
      00077B DD 36 FB 80      [19] 1167 	ld	-5 (ix), #0x80
      00077F                       1168 00114$:
      00077F DD 5E FA         [19] 1169 	ld	e, -6 (ix)
      000782 DD 56 FB         [19] 1170 	ld	d, -5 (ix)
      000785 18 22            [12] 1171 	jr	00108$
      000787                       1172 00107$:
                                   1173 ;src/math-stuff.c:87: return (q8_8_t)(((q32_t)a << FP_SHIFT) / (q32_t)b);
      000787 DD 4E FA         [19] 1174 	ld	c, -6 (ix)
      00078A DD 7E FB         [19] 1175 	ld	a, -5 (ix)
      00078D 47               [ 4] 1176 	ld	b, a
      00078E 07               [ 4] 1177 	rlca
      00078F ED 62            [15] 1178 	sbc	hl, hl
      000791 51               [ 4] 1179 	ld	d, c
      000792 65               [ 4] 1180 	ld	h, l
                                   1181 ;	spillPairReg hl
                                   1182 ;	spillPairReg hl
      000793 68               [ 4] 1183 	ld	l, b
                                   1184 ;	spillPairReg hl
                                   1185 ;	spillPairReg hl
      000794 1E 00            [ 7] 1186 	ld	e, #0x00
      000796 DD 4E F6         [19] 1187 	ld	c, -10 (ix)
      000799 DD 46 F7         [19] 1188 	ld	b, -9 (ix)
      00079C C5               [11] 1189 	push	bc
      00079D DD 4E F4         [19] 1190 	ld	c, -12 (ix)
      0007A0 DD 46 F5         [19] 1191 	ld	b, -11 (ix)
      0007A3 C5               [11] 1192 	push	bc
      0007A4 CDr00r00         [17] 1193 	call	__divslong
      0007A7 F1               [10] 1194 	pop	af
      0007A8 F1               [10] 1195 	pop	af
                                   1196 ;src/math-stuff.c:171: out->y = fdiv(v->y, z); //This is the Algorithm im here for!!!!!!
      0007A9                       1197 00108$:
      0007A9 DD 6E F8         [19] 1198 	ld	l, -8 (ix)
      0007AC DD 66 F9         [19] 1199 	ld	h, -7 (ix)
      0007AF 73               [ 7] 1200 	ld	(hl), e
      0007B0 23               [ 6] 1201 	inc	hl
      0007B1 72               [ 7] 1202 	ld	(hl), d
                                   1203 ;src/math-stuff.c:172: out->z = z;
      0007B2 DD 6E FC         [19] 1204 	ld	l, -4 (ix)
      0007B5 DD 66 FD         [19] 1205 	ld	h, -3 (ix)
      0007B8 11 04 00         [10] 1206 	ld	de, #0x0004
      0007BB 19               [11] 1207 	add	hl, de
      0007BC DD 7E F0         [19] 1208 	ld	a, -16 (ix)
      0007BF 77               [ 7] 1209 	ld	(hl), a
      0007C0 23               [ 6] 1210 	inc	hl
      0007C1 DD 7E F1         [19] 1211 	ld	a, -15 (ix)
      0007C4 77               [ 7] 1212 	ld	(hl), a
                                   1213 ;src/math-stuff.c:173: }
      0007C5 DD F9            [10] 1214 	ld	sp, ix
      0007C7 DD E1            [14] 1215 	pop	ix
      0007C9 C9               [10] 1216 	ret
                                   1217 ;src/math-stuff.c:175: static void screen_point_out(const Vec3 *p, Point2i *out) {
                                   1218 ;	---------------------------------
                                   1219 ; Function screen_point_out
                                   1220 ; ---------------------------------
      0007CA                       1221 _screen_point_out:
      0007CA DD E5            [15] 1222 	push	ix
      0007CC DD 21 00 00      [14] 1223 	ld	ix,#0
      0007D0 DD 39            [15] 1224 	add	ix,sp
      0007D2 FD 21 F2 FF      [14] 1225 	ld	iy, #-14
      0007D6 FD 39            [15] 1226 	add	iy, sp
      0007D8 FD F9            [10] 1227 	ld	sp, iy
      0007DA 4D               [ 4] 1228 	ld	c, l
      0007DB 44               [ 4] 1229 	ld	b, h
      0007DC DD 73 FE         [19] 1230 	ld	-2 (ix), e
      0007DF DD 72 FF         [19] 1231 	ld	-1 (ix), d
                                   1232 ;src/math-stuff.c:177: q32_t px = (q32_t)p->x + (q32_t)FP_ONE; // shift -1..+1 -> 0..2 in Q8.8
      0007E2 69               [ 4] 1233 	ld	l, c
      0007E3 60               [ 4] 1234 	ld	h, b
      0007E4 5E               [ 7] 1235 	ld	e, (hl)
      0007E5 23               [ 6] 1236 	inc	hl
      0007E6 56               [ 7] 1237 	ld	d, (hl)
      0007E7 7A               [ 4] 1238 	ld	a, d
      0007E8 07               [ 4] 1239 	rlca
      0007E9 ED 62            [15] 1240 	sbc	hl, hl
      0007EB 7A               [ 4] 1241 	ld	a, d
      0007EC C6 01            [ 7] 1242 	add	a, #0x01
      0007EE 57               [ 4] 1243 	ld	d, a
      0007EF 30 01            [12] 1244 	jr	NC, 00121$
      0007F1 23               [ 6] 1245 	inc	hl
      0007F2                       1246 00121$:
                                   1247 ;src/math-stuff.c:178: int32_t sx = (int32_t)((px * (q32_t)SCREEN_WIDTH) / (2 * (q32_t)FP_ONE));
      0007F2 C5               [11] 1248 	push	bc
      0007F3 E5               [11] 1249 	push	hl
      0007F4 D5               [11] 1250 	push	de
      0007F5 11 FF 00         [10] 1251 	ld	de, #0x00ff
      0007F8 21 00 00         [10] 1252 	ld	hl, #0x0000
      0007FB CDr00r00         [17] 1253 	call	__mullong
      0007FE F1               [10] 1254 	pop	af
      0007FF F1               [10] 1255 	pop	af
      000800 DD 73 FA         [19] 1256 	ld	-6 (ix), e
      000803 DD 72 FB         [19] 1257 	ld	-5 (ix), d
      000806 DD 75 FC         [19] 1258 	ld	-4 (ix), l
      000809 DD 74 FD         [19] 1259 	ld	-3 (ix), h
      00080C C1               [10] 1260 	pop	bc
      00080D DD 5E FA         [19] 1261 	ld	e, -6 (ix)
      000810 DD 56 FB         [19] 1262 	ld	d, -5 (ix)
      000813 DD 6E FC         [19] 1263 	ld	l, -4 (ix)
                                   1264 ;	spillPairReg hl
                                   1265 ;	spillPairReg hl
      000816 DD 66 FD         [19] 1266 	ld	h, -3 (ix)
                                   1267 ;	spillPairReg hl
                                   1268 ;	spillPairReg hl
      000819 DD CB FD 7E      [20] 1269 	bit	7, -3 (ix)
      00081D 28 18            [12] 1270 	jr	Z, 00103$
      00081F DD 7E FA         [19] 1271 	ld	a, -6 (ix)
      000822 C6 FF            [ 7] 1272 	add	a, #0xff
      000824 5F               [ 4] 1273 	ld	e, a
      000825 DD 7E FB         [19] 1274 	ld	a, -5 (ix)
      000828 CE 01            [ 7] 1275 	adc	a, #0x01
      00082A 57               [ 4] 1276 	ld	d, a
      00082B DD 7E FC         [19] 1277 	ld	a, -4 (ix)
      00082E CE 00            [ 7] 1278 	adc	a, #0x00
      000830 6F               [ 4] 1279 	ld	l, a
                                   1280 ;	spillPairReg hl
                                   1281 ;	spillPairReg hl
      000831 DD 7E FD         [19] 1282 	ld	a, -3 (ix)
      000834 CE 00            [ 7] 1283 	adc	a, #0x00
      000836 67               [ 4] 1284 	ld	h, a
                                   1285 ;	spillPairReg hl
                                   1286 ;	spillPairReg hl
      000837                       1287 00103$:
      000837 3E 09            [ 7] 1288 	ld	a, #0x09
      000839                       1289 00122$:
      000839 CB 2C            [ 8] 1290 	sra	h
      00083B CB 1D            [ 8] 1291 	rr	l
      00083D CB 1A            [ 8] 1292 	rr	d
      00083F CB 1B            [ 8] 1293 	rr	e
      000841 3D               [ 4] 1294 	dec	a
      000842 20 F5            [12] 1295 	jr	NZ, 00122$
      000844 33               [ 6] 1296 	inc	sp
      000845 33               [ 6] 1297 	inc	sp
      000846 D5               [11] 1298 	push	de
      000847 DD 75 F4         [19] 1299 	ld	-12 (ix), l
      00084A DD 74 F5         [19] 1300 	ld	-11 (ix), h
                                   1301 ;src/math-stuff.c:181: q32_t py = (q32_t)p->y;
      00084D 69               [ 4] 1302 	ld	l, c
      00084E 60               [ 4] 1303 	ld	h, b
      00084F 23               [ 6] 1304 	inc	hl
      000850 23               [ 6] 1305 	inc	hl
      000851 4E               [ 7] 1306 	ld	c, (hl)
      000852 23               [ 6] 1307 	inc	hl
      000853 46               [ 7] 1308 	ld	b, (hl)
      000854 78               [ 4] 1309 	ld	a, b
      000855 07               [ 4] 1310 	rlca
      000856 ED 62            [15] 1311 	sbc	hl, hl
                                   1312 ;src/math-stuff.c:183: int32_t sy = (int32_t)((( ( (q32_t)FP_ONE - (py + (q32_t)FP_ONE) / 2 ) * (q32_t)SCREEN_HEIGHT) ) / (q32_t)FP_ONE);
      000858 DD 71 F6         [19] 1313 	ld	-10 (ix), c
      00085B 78               [ 4] 1314 	ld	a, b
      00085C C6 01            [ 7] 1315 	add	a, #0x01
      00085E DD 77 F7         [19] 1316 	ld	-9 (ix), a
      000861 7D               [ 4] 1317 	ld	a, l
      000862 CE 00            [ 7] 1318 	adc	a, #0x00
      000864 DD 77 F8         [19] 1319 	ld	-8 (ix), a
      000867 7C               [ 4] 1320 	ld	a, h
      000868 CE 00            [ 7] 1321 	adc	a, #0x00
      00086A DD 77 F9         [19] 1322 	ld	-7 (ix), a
      00086D DD 7E F6         [19] 1323 	ld	a, -10 (ix)
      000870 DD 77 FA         [19] 1324 	ld	-6 (ix), a
      000873 DD 7E F7         [19] 1325 	ld	a, -9 (ix)
      000876 DD 77 FB         [19] 1326 	ld	-5 (ix), a
      000879 DD 7E F8         [19] 1327 	ld	a, -8 (ix)
      00087C DD 77 FC         [19] 1328 	ld	-4 (ix), a
      00087F DD 7E F9         [19] 1329 	ld	a, -7 (ix)
      000882 DD 77 FD         [19] 1330 	ld	-3 (ix), a
      000885 DD CB F9 7E      [20] 1331 	bit	7, -7 (ix)
      000889 28 18            [12] 1332 	jr	Z, 00104$
      00088B 79               [ 4] 1333 	ld	a, c
      00088C C6 01            [ 7] 1334 	add	a, #0x01
      00088E DD 77 FA         [19] 1335 	ld	-6 (ix), a
      000891 78               [ 4] 1336 	ld	a, b
      000892 CE 01            [ 7] 1337 	adc	a, #0x01
      000894 DD 77 FB         [19] 1338 	ld	-5 (ix), a
      000897 7D               [ 4] 1339 	ld	a, l
      000898 CE 00            [ 7] 1340 	adc	a, #0x00
      00089A DD 77 FC         [19] 1341 	ld	-4 (ix), a
      00089D 7C               [ 4] 1342 	ld	a, h
      00089E CE 00            [ 7] 1343 	adc	a, #0x00
      0008A0 DD 77 FD         [19] 1344 	ld	-3 (ix), a
      0008A3                       1345 00104$:
      0008A3 DD 4E FA         [19] 1346 	ld	c, -6 (ix)
      0008A6 DD 46 FB         [19] 1347 	ld	b, -5 (ix)
      0008A9 DD 5E FC         [19] 1348 	ld	e, -4 (ix)
      0008AC DD 56 FD         [19] 1349 	ld	d, -3 (ix)
      0008AF CB 2A            [ 8] 1350 	sra	d
      0008B1 CB 1B            [ 8] 1351 	rr	e
      0008B3 CB 18            [ 8] 1352 	rr	b
      0008B5 CB 19            [ 8] 1353 	rr	c
      0008B7 AF               [ 4] 1354 	xor	a, a
      0008B8 91               [ 4] 1355 	sub	a, c
      0008B9 4F               [ 4] 1356 	ld	c, a
      0008BA 3E 01            [ 7] 1357 	ld	a, #0x01
      0008BC 98               [ 4] 1358 	sbc	a, b
      0008BD 47               [ 4] 1359 	ld	b, a
      0008BE 21 00 00         [10] 1360 	ld	hl, #0x0000
      0008C1 ED 52            [15] 1361 	sbc	hl, de
      0008C3 E5               [11] 1362 	push	hl
      0008C4 C5               [11] 1363 	push	bc
      0008C5 11 EF 00         [10] 1364 	ld	de, #0x00ef
      0008C8 21 00 00         [10] 1365 	ld	hl, #0x0000
      0008CB CDr00r00         [17] 1366 	call	__mullong
      0008CE F1               [10] 1367 	pop	af
      0008CF F1               [10] 1368 	pop	af
      0008D0 DD 73 FA         [19] 1369 	ld	-6 (ix), e
      0008D3 DD 72 FB         [19] 1370 	ld	-5 (ix), d
      0008D6 DD 75 FC         [19] 1371 	ld	-4 (ix), l
      0008D9 DD 74 FD         [19] 1372 	ld	-3 (ix), h
      0008DC CB 7C            [ 8] 1373 	bit	7, h
      0008DE 28 18            [12] 1374 	jr	Z, 00105$
      0008E0 7B               [ 4] 1375 	ld	a, e
      0008E1 C6 FF            [ 7] 1376 	add	a, #0xff
      0008E3 DD 77 FA         [19] 1377 	ld	-6 (ix), a
      0008E6 7A               [ 4] 1378 	ld	a, d
      0008E7 CE 00            [ 7] 1379 	adc	a, #0x00
      0008E9 DD 77 FB         [19] 1380 	ld	-5 (ix), a
      0008EC 7D               [ 4] 1381 	ld	a, l
      0008ED CE 00            [ 7] 1382 	adc	a, #0x00
      0008EF DD 77 FC         [19] 1383 	ld	-4 (ix), a
      0008F2 7C               [ 4] 1384 	ld	a, h
      0008F3 CE 00            [ 7] 1385 	adc	a, #0x00
      0008F5 DD 77 FD         [19] 1386 	ld	-3 (ix), a
      0008F8                       1387 00105$:
      0008F8 DD 4E FA         [19] 1388 	ld	c, -6 (ix)
      0008FB DD 46 FB         [19] 1389 	ld	b, -5 (ix)
      0008FE DD 5E FC         [19] 1390 	ld	e, -4 (ix)
      000901 DD 56 FD         [19] 1391 	ld	d, -3 (ix)
      000904 3E 08            [ 7] 1392 	ld	a, #0x08
      000906                       1393 00126$:
      000906 CB 2A            [ 8] 1394 	sra	d
      000908 CB 1B            [ 8] 1395 	rr	e
      00090A CB 18            [ 8] 1396 	rr	b
      00090C CB 19            [ 8] 1397 	rr	c
      00090E 3D               [ 4] 1398 	dec	a
      00090F 20 F5            [12] 1399 	jr	NZ, 00126$
                                   1400 ;src/math-stuff.c:185: out->x = (int16_t)sx;
      000911 DD 7E F2         [19] 1401 	ld	a, -14 (ix)
      000914 DD 77 FC         [19] 1402 	ld	-4 (ix), a
      000917 DD 7E F3         [19] 1403 	ld	a, -13 (ix)
      00091A DD 77 FD         [19] 1404 	ld	-3 (ix), a
      00091D DD 6E FE         [19] 1405 	ld	l, -2 (ix)
      000920 DD 66 FF         [19] 1406 	ld	h, -1 (ix)
      000923 DD 7E FC         [19] 1407 	ld	a, -4 (ix)
      000926 77               [ 7] 1408 	ld	(hl), a
      000927 23               [ 6] 1409 	inc	hl
      000928 DD 7E FD         [19] 1410 	ld	a, -3 (ix)
      00092B 77               [ 7] 1411 	ld	(hl), a
                                   1412 ;src/math-stuff.c:186: out->y = (int16_t)sy;
      00092C DD 6E FE         [19] 1413 	ld	l, -2 (ix)
                                   1414 ;	spillPairReg hl
                                   1415 ;	spillPairReg hl
      00092F DD 66 FF         [19] 1416 	ld	h, -1 (ix)
                                   1417 ;	spillPairReg hl
                                   1418 ;	spillPairReg hl
      000932 23               [ 6] 1419 	inc	hl
      000933 23               [ 6] 1420 	inc	hl
      000934 71               [ 7] 1421 	ld	(hl), c
      000935 23               [ 6] 1422 	inc	hl
      000936 70               [ 7] 1423 	ld	(hl), b
                                   1424 ;src/math-stuff.c:187: }
      000937 DD F9            [10] 1425 	ld	sp, ix
      000939 DD E1            [14] 1426 	pop	ix
      00093B C9               [10] 1427 	ret
                                   1428 ;src/math-stuff.c:189: static inline void clamp_proj(Vec3 *p) {
                                   1429 ;	---------------------------------
                                   1430 ; Function clamp_proj
                                   1431 ; ---------------------------------
      00093C                       1432 _clamp_proj:
                                   1433 ;src/math-stuff.c:190: if (p->x < -FP_ONE) p->x = -FP_ONE;
      00093C 23               [ 6] 1434 	inc	hl
      00093D 46               [ 7] 1435 	ld	b, (hl)
      00093E 2B               [ 6] 1436 	dec	hl
      00093F 78               [ 4] 1437 	ld	a, b
      000940 EE 80            [ 7] 1438 	xor	a, #0x80
      000942 D6 7F            [ 7] 1439 	sub	a, #0x7f
      000944 30 06            [12] 1440 	jr	NC, 00102$
      000946 36 00            [10] 1441 	ld	(hl), #0x00
      000948 23               [ 6] 1442 	inc	hl
      000949 36 FF            [10] 1443 	ld	(hl), #0xff
      00094B 2B               [ 6] 1444 	dec	hl
      00094C                       1445 00102$:
                                   1446 ;src/math-stuff.c:191: if (p->x >  FP_ONE) p->x =  FP_ONE;
      00094C 4E               [ 7] 1447 	ld	c, (hl)
      00094D 23               [ 6] 1448 	inc	hl
      00094E 46               [ 7] 1449 	ld	b, (hl)
      00094F 2B               [ 6] 1450 	dec	hl
      000950 AF               [ 4] 1451 	xor	a, a
      000951 B9               [ 4] 1452 	cp	a, c
      000952 3E 01            [ 7] 1453 	ld	a, #0x01
      000954 98               [ 4] 1454 	sbc	a, b
      000955 E2r5Ar09         [10] 1455 	jp	PO, 00131$
      000958 EE 80            [ 7] 1456 	xor	a, #0x80
      00095A                       1457 00131$:
      00095A F2r63r09         [10] 1458 	jp	P, 00104$
      00095D 36 00            [10] 1459 	ld	(hl), #0x00
      00095F 23               [ 6] 1460 	inc	hl
      000960 36 01            [10] 1461 	ld	(hl), #0x01
      000962 2B               [ 6] 1462 	dec	hl
      000963                       1463 00104$:
                                   1464 ;src/math-stuff.c:192: if (p->y < -FP_ONE) p->y = -FP_ONE;
      000963 23               [ 6] 1465 	inc	hl
      000964 23               [ 6] 1466 	inc	hl
      000965 23               [ 6] 1467 	inc	hl
      000966 46               [ 7] 1468 	ld	b, (hl)
      000967 2B               [ 6] 1469 	dec	hl
      000968 78               [ 4] 1470 	ld	a, b
      000969 EE 80            [ 7] 1471 	xor	a, #0x80
      00096B D6 7F            [ 7] 1472 	sub	a, #0x7f
      00096D 30 06            [12] 1473 	jr	NC, 00106$
      00096F 36 00            [10] 1474 	ld	(hl), #0x00
      000971 23               [ 6] 1475 	inc	hl
      000972 36 FF            [10] 1476 	ld	(hl), #0xff
      000974 2B               [ 6] 1477 	dec	hl
      000975                       1478 00106$:
                                   1479 ;src/math-stuff.c:193: if (p->y >  FP_ONE) p->y =  FP_ONE;
      000975 4E               [ 7] 1480 	ld	c, (hl)
      000976 23               [ 6] 1481 	inc	hl
      000977 46               [ 7] 1482 	ld	b, (hl)
      000978 2B               [ 6] 1483 	dec	hl
      000979 AF               [ 4] 1484 	xor	a, a
      00097A B9               [ 4] 1485 	cp	a, c
      00097B 3E 01            [ 7] 1486 	ld	a, #0x01
      00097D 98               [ 4] 1487 	sbc	a, b
      00097E E2r83r09         [10] 1488 	jp	PO, 00132$
      000981 EE 80            [ 7] 1489 	xor	a, #0x80
      000983                       1490 00132$:
      000983 F0               [11] 1491 	ret	P
      000984 36 00            [10] 1492 	ld	(hl), #0x00
      000986 23               [ 6] 1493 	inc	hl
      000987 36 01            [10] 1494 	ld	(hl), #0x01
                                   1495 ;src/math-stuff.c:194: }
      000989 C9               [10] 1496 	ret
                                   1497 ;src/math-stuff.c:197: void frame(void) {
                                   1498 ;	---------------------------------
                                   1499 ; Function frame
                                   1500 ; ---------------------------------
      00098A                       1501 _frame::
      00098A DD E5            [15] 1502 	push	ix
      00098C DD 21 00 00      [14] 1503 	ld	ix,#0
      000990 DD 39            [15] 1504 	add	ix,sp
      000992 21 C8 FF         [10] 1505 	ld	hl, #-56
      000995 39               [11] 1506 	add	hl, sp
      000996 F9               [ 6] 1507 	ld	sp, hl
                                   1508 ;src/math-stuff.c:199: angle = (uint8_t)(angle + ANGLE_STEP);
      000997 3Ar02r00         [13] 1509 	ld	a, (_angle+0)
      00099A 4F               [ 4] 1510 	ld	c, a
      00099B 3ArBDr00         [13] 1511 	ld	a, (_ANGLE_STEP+0)
      00099E 81               [ 4] 1512 	add	a, c
      00099F 32r02r00         [13] 1513 	ld	(_angle+0), a
      0009A2 21r03r00         [10] 1514 	ld	hl, #_angle + 1
      0009A5 36 00            [10] 1515 	ld	(hl), #0x00
                                   1516 ;src/math-stuff.c:201: clear_screen(); //Slow as hell, but what are you gonna do about it?
      0009A7 CDr00r00         [17] 1517 	call	_clear_screen
                                   1518 ;src/math-stuff.c:204: for (uint16_t fi = 0; fi < fs_count; ++fi) {
      0009AA AF               [ 4] 1519 	xor	a, a
      0009AB DD 77 FD         [19] 1520 	ld	-3 (ix), a
      0009AE DD 77 FE         [19] 1521 	ld	-2 (ix), a
      0009B1                       1522 00131$:
      0009B1 2Ar3Er00         [16] 1523 	ld	hl, (_fs_count)
      0009B4 DD 75 FB         [19] 1524 	ld	-5 (ix), l
      0009B7 DD 74 FC         [19] 1525 	ld	-4 (ix), h
      0009BA DD 7E FD         [19] 1526 	ld	a, -3 (ix)
      0009BD DD 96 FB         [19] 1527 	sub	a, -5 (ix)
      0009C0 DD 7E FE         [19] 1528 	ld	a, -2 (ix)
      0009C3 DD 9E FC         [19] 1529 	sbc	a, -4 (ix)
      0009C6 D2r36r0C         [10] 1530 	jp	NC, 00132$
                                   1531 ;src/math-stuff.c:205: const uint8_t *face = fs[fi];
      0009C9 DD 7E FD         [19] 1532 	ld	a, -3 (ix)
      0009CC DD 77 F9         [19] 1533 	ld	-7 (ix), a
      0009CF DD 7E FE         [19] 1534 	ld	a, -2 (ix)
      0009D2 DD 77 FA         [19] 1535 	ld	-6 (ix), a
      0009D5 DD CB F9 26      [23] 1536 	sla	-7 (ix)
      0009D9 DD CB FA 16      [23] 1537 	rl	-6 (ix)
      0009DD DD 7E F9         [19] 1538 	ld	a, -7 (ix)
      0009E0 C6r32            [ 7] 1539 	add	a, #<(_fs)
      0009E2 DD 77 FB         [19] 1540 	ld	-5 (ix), a
      0009E5 DD 7E FA         [19] 1541 	ld	a, -6 (ix)
      0009E8 CEs00            [ 7] 1542 	adc	a, #>(_fs)
      0009EA DD 77 FC         [19] 1543 	ld	-4 (ix), a
      0009ED DD 6E FB         [19] 1544 	ld	l, -5 (ix)
      0009F0 DD 66 FC         [19] 1545 	ld	h, -4 (ix)
      0009F3 7E               [ 7] 1546 	ld	a, (hl)
      0009F4 DD 77 F6         [19] 1547 	ld	-10 (ix), a
      0009F7 23               [ 6] 1548 	inc	hl
      0009F8 7E               [ 7] 1549 	ld	a, (hl)
      0009F9 DD 77 F7         [19] 1550 	ld	-9 (ix), a
                                   1551 ;src/math-stuff.c:206: uint8_t len = fs_len[fi];
      0009FC 3Er3A            [ 7] 1552 	ld	a, #<(_fs_len)
      0009FE DD 86 FD         [19] 1553 	add	a, -3 (ix)
      000A01 4F               [ 4] 1554 	ld	c, a
      000A02 3Es00            [ 7] 1555 	ld	a, #>(_fs_len)
      000A04 DD 8E FE         [19] 1556 	adc	a, -2 (ix)
      000A07 47               [ 4] 1557 	ld	b, a
      000A08 0A               [ 7] 1558 	ld	a, (bc)
                                   1559 ;src/math-stuff.c:207: if (len < 2) continue;
      000A09 DD 77 F8         [19] 1560 	ld	-8 (ix), a
      000A0C D6 02            [ 7] 1561 	sub	a, #0x02
      000A0E DAr2Ar0C         [10] 1562 	jp	C, 00108$
                                   1563 ;src/math-stuff.c:209: for (uint8_t i = 0; i < len; ++i) {
      000A11 DD 36 FF 00      [19] 1564 	ld	-1 (ix), #0x00
      000A15                       1565 00129$:
      000A15 DD 7E FF         [19] 1566 	ld	a, -1 (ix)
      000A18 DD 96 F8         [19] 1567 	sub	a, -8 (ix)
      000A1B D2r2Ar0C         [10] 1568 	jp	NC, 00108$
                                   1569 ;src/math-stuff.c:210: uint8_t idx_a = face[i];
      000A1E DD 7E F6         [19] 1570 	ld	a, -10 (ix)
      000A21 DD 86 FF         [19] 1571 	add	a, -1 (ix)
      000A24 DD 77 FB         [19] 1572 	ld	-5 (ix), a
      000A27 DD 7E F7         [19] 1573 	ld	a, -9 (ix)
      000A2A CE 00            [ 7] 1574 	adc	a, #0x00
      000A2C DD 77 FC         [19] 1575 	ld	-4 (ix), a
      000A2F DD 6E FB         [19] 1576 	ld	l, -5 (ix)
      000A32 DD 66 FC         [19] 1577 	ld	h, -4 (ix)
      000A35 7E               [ 7] 1578 	ld	a, (hl)
      000A36 DD 77 F9         [19] 1579 	ld	-7 (ix), a
                                   1580 ;src/math-stuff.c:211: uint8_t idx_b = face[(i + 1) % len];
      000A39 DD 7E FF         [19] 1581 	ld	a, -1 (ix)
      000A3C DD 77 FB         [19] 1582 	ld	-5 (ix), a
      000A3F DD 36 FC 00      [19] 1583 	ld	-4 (ix), #0x00
      000A43 DD 7E FB         [19] 1584 	ld	a, -5 (ix)
      000A46 C6 01            [ 7] 1585 	add	a, #0x01
      000A48 DD 77 C8         [19] 1586 	ld	-56 (ix), a
      000A4B DD 7E FC         [19] 1587 	ld	a, -4 (ix)
      000A4E CE 00            [ 7] 1588 	adc	a, #0x00
      000A50 DD 77 C9         [19] 1589 	ld	-55 (ix), a
      000A53 DD 7E F8         [19] 1590 	ld	a, -8 (ix)
      000A56 DD 77 FB         [19] 1591 	ld	-5 (ix), a
      000A59 DD 36 FC 00      [19] 1592 	ld	-4 (ix), #0x00
      000A5D 5F               [ 4] 1593 	ld	e, a
      000A5E 16 00            [ 7] 1594 	ld	d, #0x00
      000A60 E1               [10] 1595 	pop	hl
      000A61 E5               [11] 1596 	push	hl
      000A62 CDr00r00         [17] 1597 	call	__modsint
      000A65 33               [ 6] 1598 	inc	sp
      000A66 33               [ 6] 1599 	inc	sp
      000A67 D5               [11] 1600 	push	de
      000A68 DD 7E C8         [19] 1601 	ld	a, -56 (ix)
      000A6B DD 86 F6         [19] 1602 	add	a, -10 (ix)
      000A6E DD 77 FB         [19] 1603 	ld	-5 (ix), a
      000A71 DD 7E C9         [19] 1604 	ld	a, -55 (ix)
      000A74 DD 8E F7         [19] 1605 	adc	a, -9 (ix)
      000A77 DD 77 FC         [19] 1606 	ld	-4 (ix), a
      000A7A DD 6E FB         [19] 1607 	ld	l, -5 (ix)
      000A7D DD 66 FC         [19] 1608 	ld	h, -4 (ix)
      000A80 7E               [ 7] 1609 	ld	a, (hl)
      000A81 DD 77 FA         [19] 1610 	ld	-6 (ix), a
                                   1611 ;src/math-stuff.c:212: if (idx_a >= vs_count || idx_b >= vs_count) continue;
      000A84 2Ar24r00         [16] 1612 	ld	hl, (_vs_count)
      000A87 DD 75 FB         [19] 1613 	ld	-5 (ix), l
      000A8A DD 74 FC         [19] 1614 	ld	-4 (ix), h
      000A8D DD 7E F9         [19] 1615 	ld	a, -7 (ix)
      000A90 06 00            [ 7] 1616 	ld	b, #0x00
      000A92 DD 96 FB         [19] 1617 	sub	a, -5 (ix)
      000A95 78               [ 4] 1618 	ld	a, b
      000A96 DD 9E FC         [19] 1619 	sbc	a, -4 (ix)
      000A99 D2r24r0C         [10] 1620 	jp	NC, 00106$
      000A9C DD 7E FA         [19] 1621 	ld	a, -6 (ix)
      000A9F 06 00            [ 7] 1622 	ld	b, #0x00
      000AA1 DD 96 FB         [19] 1623 	sub	a, -5 (ix)
      000AA4 78               [ 4] 1624 	ld	a, b
      000AA5 DD 9E FC         [19] 1625 	sbc	a, -4 (ix)
      000AA8 D2r24r0C         [10] 1626 	jp	NC, 00106$
                                   1627 ;src/math-stuff.c:217: va = vs[idx_a];
      000AAB 21 02 00         [10] 1628 	ld	hl, #2
      000AAE 39               [11] 1629 	add	hl, sp
      000AAF EB               [ 4] 1630 	ex	de, hl
      000AB0 DD 4E F9         [19] 1631 	ld	c, -7 (ix)
      000AB3 06 00            [ 7] 1632 	ld	b, #0x00
      000AB5 69               [ 4] 1633 	ld	l, c
      000AB6 60               [ 4] 1634 	ld	h, b
      000AB7 29               [11] 1635 	add	hl, hl
      000AB8 09               [11] 1636 	add	hl, bc
      000AB9 29               [11] 1637 	add	hl, hl
      000ABA 01r06r00         [10] 1638 	ld	bc, #_vs
      000ABD 09               [11] 1639 	add	hl, bc
      000ABE 01 06 00         [10] 1640 	ld	bc, #0x0006
      000AC1 ED B0            [21] 1641 	ldir
                                   1642 ;src/math-stuff.c:218: vb = vs[idx_b];
      000AC3 21 08 00         [10] 1643 	ld	hl, #8
      000AC6 39               [11] 1644 	add	hl, sp
      000AC7 EB               [ 4] 1645 	ex	de, hl
      000AC8 DD 4E FA         [19] 1646 	ld	c, -6 (ix)
      000ACB 06 00            [ 7] 1647 	ld	b, #0x00
      000ACD 69               [ 4] 1648 	ld	l, c
      000ACE 60               [ 4] 1649 	ld	h, b
      000ACF 29               [11] 1650 	add	hl, hl
      000AD0 09               [11] 1651 	add	hl, bc
      000AD1 29               [11] 1652 	add	hl, hl
      000AD2 01r06r00         [10] 1653 	ld	bc, #_vs
      000AD5 09               [11] 1654 	add	hl, bc
      000AD6 01 06 00         [10] 1655 	ld	bc, #0x0006
      000AD9 ED B0            [21] 1656 	ldir
                                   1657 ;src/math-stuff.c:224: rotate_xz_out(&va, angle, &ra);
      000ADB 3Ar02r00         [13] 1658 	ld	a, (_angle+0)
      000ADE 21 0E 00         [10] 1659 	ld	hl, #14
      000AE1 39               [11] 1660 	add	hl, sp
      000AE2 E5               [11] 1661 	push	hl
      000AE3 F5               [11] 1662 	push	af
      000AE4 33               [ 6] 1663 	inc	sp
      000AE5 21 05 00         [10] 1664 	ld	hl, #5
      000AE8 39               [11] 1665 	add	hl, sp
      000AE9 CDrBEr04         [17] 1666 	call	_rotate_xz_out
                                   1667 ;src/math-stuff.c:225: translate_z_out(&ra, dz, &ra);
      000AEC 21 0E 00         [10] 1668 	ld	hl, #14
      000AEF 39               [11] 1669 	add	hl, sp
      000AF0 E5               [11] 1670 	push	hl
      000AF1 ED 5Br00r00      [20] 1671 	ld	de, (_dz)
      000AF5 21 10 00         [10] 1672 	ld	hl, #16
      000AF8 39               [11] 1673 	add	hl, sp
      000AF9 CDr29r06         [17] 1674 	call	_translate_z_out
                                   1675 ;src/math-stuff.c:226: project_out(&ra, &pa);
      000AFC 21 14 00         [10] 1676 	ld	hl, #20
      000AFF 39               [11] 1677 	add	hl, sp
      000B00 EB               [ 4] 1678 	ex	de, hl
      000B01 21 0E 00         [10] 1679 	ld	hl, #14
      000B04 39               [11] 1680 	add	hl, sp
      000B05 CDr60r06         [17] 1681 	call	_project_out
                                   1682 ;src/math-stuff.c:227: clamp_proj(&pa);
      000B08 21 14 00         [10] 1683 	ld	hl, #20
      000B0B 39               [11] 1684 	add	hl, sp
      000B0C 5D               [ 4] 1685 	ld	e, l
      000B0D 54               [ 4] 1686 	ld	d, h
                                   1687 ;src/math-stuff.c:190: if (p->x < -FP_ONE) p->x = -FP_ONE;
      000B0E 23               [ 6] 1688 	inc	hl
      000B0F 46               [ 7] 1689 	ld	b, (hl)
      000B10 2B               [ 6] 1690 	dec	hl
      000B11 78               [ 4] 1691 	ld	a, b
      000B12 EE 80            [ 7] 1692 	xor	a, #0x80
      000B14 D6 7F            [ 7] 1693 	sub	a, #0x7f
      000B16 30 05            [12] 1694 	jr	NC, 00111$
      000B18 36 00            [10] 1695 	ld	(hl), #0x00
      000B1A 23               [ 6] 1696 	inc	hl
      000B1B 36 FF            [10] 1697 	ld	(hl), #0xff
      000B1D                       1698 00111$:
                                   1699 ;src/math-stuff.c:191: if (p->x >  FP_ONE) p->x =  FP_ONE;
      000B1D 6B               [ 4] 1700 	ld	l, e
      000B1E 62               [ 4] 1701 	ld	h, d
      000B1F 4E               [ 7] 1702 	ld	c, (hl)
      000B20 23               [ 6] 1703 	inc	hl
      000B21 46               [ 7] 1704 	ld	b, (hl)
      000B22 AF               [ 4] 1705 	xor	a, a
      000B23 B9               [ 4] 1706 	cp	a, c
      000B24 3E 01            [ 7] 1707 	ld	a, #0x01
      000B26 98               [ 4] 1708 	sbc	a, b
      000B27 E2r2Cr0B         [10] 1709 	jp	PO, 00212$
      000B2A EE 80            [ 7] 1710 	xor	a, #0x80
      000B2C                       1711 00212$:
      000B2C F2r36r0B         [10] 1712 	jp	P, 00113$
      000B2F 6B               [ 4] 1713 	ld	l, e
      000B30 62               [ 4] 1714 	ld	h, d
      000B31 36 00            [10] 1715 	ld	(hl), #0x00
      000B33 23               [ 6] 1716 	inc	hl
      000B34 36 01            [10] 1717 	ld	(hl), #0x01
      000B36                       1718 00113$:
                                   1719 ;src/math-stuff.c:192: if (p->y < -FP_ONE) p->y = -FP_ONE;
      000B36 EB               [ 4] 1720 	ex	de, hl
      000B37 23               [ 6] 1721 	inc	hl
      000B38 23               [ 6] 1722 	inc	hl
      000B39 23               [ 6] 1723 	inc	hl
      000B3A 46               [ 7] 1724 	ld	b, (hl)
      000B3B 2B               [ 6] 1725 	dec	hl
      000B3C 78               [ 4] 1726 	ld	a, b
      000B3D EE 80            [ 7] 1727 	xor	a, #0x80
      000B3F D6 7F            [ 7] 1728 	sub	a, #0x7f
      000B41 30 06            [12] 1729 	jr	NC, 00115$
      000B43 36 00            [10] 1730 	ld	(hl), #0x00
      000B45 23               [ 6] 1731 	inc	hl
      000B46 36 FF            [10] 1732 	ld	(hl), #0xff
      000B48 2B               [ 6] 1733 	dec	hl
      000B49                       1734 00115$:
                                   1735 ;src/math-stuff.c:193: if (p->y >  FP_ONE) p->y =  FP_ONE;
      000B49 4E               [ 7] 1736 	ld	c, (hl)
      000B4A 23               [ 6] 1737 	inc	hl
      000B4B 46               [ 7] 1738 	ld	b, (hl)
      000B4C 2B               [ 6] 1739 	dec	hl
      000B4D AF               [ 4] 1740 	xor	a, a
      000B4E B9               [ 4] 1741 	cp	a, c
      000B4F 3E 01            [ 7] 1742 	ld	a, #0x01
      000B51 98               [ 4] 1743 	sbc	a, b
      000B52 E2r57r0B         [10] 1744 	jp	PO, 00213$
      000B55 EE 80            [ 7] 1745 	xor	a, #0x80
      000B57                       1746 00213$:
      000B57 F2r5Fr0B         [10] 1747 	jp	P, 00118$
      000B5A 36 00            [10] 1748 	ld	(hl), #0x00
      000B5C 23               [ 6] 1749 	inc	hl
      000B5D 36 01            [10] 1750 	ld	(hl), #0x01
                                   1751 ;src/math-stuff.c:227: clamp_proj(&pa);
      000B5F                       1752 00118$:
                                   1753 ;src/math-stuff.c:228: screen_point_out(&pa, &sa);
      000B5F 21 26 00         [10] 1754 	ld	hl, #38
      000B62 39               [11] 1755 	add	hl, sp
      000B63 EB               [ 4] 1756 	ex	de, hl
      000B64 21 14 00         [10] 1757 	ld	hl, #20
      000B67 39               [11] 1758 	add	hl, sp
      000B68 CDrCAr07         [17] 1759 	call	_screen_point_out
                                   1760 ;src/math-stuff.c:230: rotate_xz_out(&vb, angle, &rb);
      000B6B 3Ar02r00         [13] 1761 	ld	a, (_angle+0)
      000B6E 21 1A 00         [10] 1762 	ld	hl, #26
      000B71 39               [11] 1763 	add	hl, sp
      000B72 E5               [11] 1764 	push	hl
      000B73 F5               [11] 1765 	push	af
      000B74 33               [ 6] 1766 	inc	sp
      000B75 21 0B 00         [10] 1767 	ld	hl, #11
      000B78 39               [11] 1768 	add	hl, sp
      000B79 CDrBEr04         [17] 1769 	call	_rotate_xz_out
                                   1770 ;src/math-stuff.c:231: translate_z_out(&rb, dz, &rb);
      000B7C 21 1A 00         [10] 1771 	ld	hl, #26
      000B7F 39               [11] 1772 	add	hl, sp
      000B80 E5               [11] 1773 	push	hl
      000B81 ED 5Br00r00      [20] 1774 	ld	de, (_dz)
      000B85 21 1C 00         [10] 1775 	ld	hl, #28
      000B88 39               [11] 1776 	add	hl, sp
      000B89 CDr29r06         [17] 1777 	call	_translate_z_out
                                   1778 ;src/math-stuff.c:232: project_out(&rb, &pb);
      000B8C 21 20 00         [10] 1779 	ld	hl, #32
      000B8F 39               [11] 1780 	add	hl, sp
      000B90 EB               [ 4] 1781 	ex	de, hl
      000B91 21 1A 00         [10] 1782 	ld	hl, #26
      000B94 39               [11] 1783 	add	hl, sp
      000B95 CDr60r06         [17] 1784 	call	_project_out
                                   1785 ;src/math-stuff.c:233: clamp_proj(&pb);
      000B98 21 20 00         [10] 1786 	ld	hl, #32
      000B9B 39               [11] 1787 	add	hl, sp
      000B9C 5D               [ 4] 1788 	ld	e, l
      000B9D 54               [ 4] 1789 	ld	d, h
                                   1790 ;src/math-stuff.c:190: if (p->x < -FP_ONE) p->x = -FP_ONE;
      000B9E 23               [ 6] 1791 	inc	hl
      000B9F 46               [ 7] 1792 	ld	b, (hl)
      000BA0 2B               [ 6] 1793 	dec	hl
      000BA1 78               [ 4] 1794 	ld	a, b
      000BA2 EE 80            [ 7] 1795 	xor	a, #0x80
      000BA4 D6 7F            [ 7] 1796 	sub	a, #0x7f
      000BA6 30 05            [12] 1797 	jr	NC, 00120$
      000BA8 36 00            [10] 1798 	ld	(hl), #0x00
      000BAA 23               [ 6] 1799 	inc	hl
      000BAB 36 FF            [10] 1800 	ld	(hl), #0xff
      000BAD                       1801 00120$:
                                   1802 ;src/math-stuff.c:191: if (p->x >  FP_ONE) p->x =  FP_ONE;
      000BAD 6B               [ 4] 1803 	ld	l, e
      000BAE 62               [ 4] 1804 	ld	h, d
      000BAF 4E               [ 7] 1805 	ld	c, (hl)
      000BB0 23               [ 6] 1806 	inc	hl
      000BB1 46               [ 7] 1807 	ld	b, (hl)
      000BB2 AF               [ 4] 1808 	xor	a, a
      000BB3 B9               [ 4] 1809 	cp	a, c
      000BB4 3E 01            [ 7] 1810 	ld	a, #0x01
      000BB6 98               [ 4] 1811 	sbc	a, b
      000BB7 E2rBCr0B         [10] 1812 	jp	PO, 00214$
      000BBA EE 80            [ 7] 1813 	xor	a, #0x80
      000BBC                       1814 00214$:
      000BBC F2rC6r0B         [10] 1815 	jp	P, 00122$
      000BBF 6B               [ 4] 1816 	ld	l, e
      000BC0 62               [ 4] 1817 	ld	h, d
      000BC1 36 00            [10] 1818 	ld	(hl), #0x00
      000BC3 23               [ 6] 1819 	inc	hl
      000BC4 36 01            [10] 1820 	ld	(hl), #0x01
      000BC6                       1821 00122$:
                                   1822 ;src/math-stuff.c:192: if (p->y < -FP_ONE) p->y = -FP_ONE;
      000BC6 EB               [ 4] 1823 	ex	de, hl
      000BC7 23               [ 6] 1824 	inc	hl
      000BC8 23               [ 6] 1825 	inc	hl
      000BC9 23               [ 6] 1826 	inc	hl
      000BCA 46               [ 7] 1827 	ld	b, (hl)
      000BCB 2B               [ 6] 1828 	dec	hl
      000BCC 78               [ 4] 1829 	ld	a, b
      000BCD EE 80            [ 7] 1830 	xor	a, #0x80
      000BCF D6 7F            [ 7] 1831 	sub	a, #0x7f
      000BD1 30 06            [12] 1832 	jr	NC, 00124$
      000BD3 36 00            [10] 1833 	ld	(hl), #0x00
      000BD5 23               [ 6] 1834 	inc	hl
      000BD6 36 FF            [10] 1835 	ld	(hl), #0xff
      000BD8 2B               [ 6] 1836 	dec	hl
      000BD9                       1837 00124$:
                                   1838 ;src/math-stuff.c:193: if (p->y >  FP_ONE) p->y =  FP_ONE;
      000BD9 4E               [ 7] 1839 	ld	c, (hl)
      000BDA 23               [ 6] 1840 	inc	hl
      000BDB 46               [ 7] 1841 	ld	b, (hl)
      000BDC 2B               [ 6] 1842 	dec	hl
      000BDD AF               [ 4] 1843 	xor	a, a
      000BDE B9               [ 4] 1844 	cp	a, c
      000BDF 3E 01            [ 7] 1845 	ld	a, #0x01
      000BE1 98               [ 4] 1846 	sbc	a, b
      000BE2 E2rE7r0B         [10] 1847 	jp	PO, 00215$
      000BE5 EE 80            [ 7] 1848 	xor	a, #0x80
      000BE7                       1849 00215$:
      000BE7 F2rEFr0B         [10] 1850 	jp	P, 00127$
      000BEA 36 00            [10] 1851 	ld	(hl), #0x00
      000BEC 23               [ 6] 1852 	inc	hl
      000BED 36 01            [10] 1853 	ld	(hl), #0x01
                                   1854 ;src/math-stuff.c:233: clamp_proj(&pb);
      000BEF                       1855 00127$:
                                   1856 ;src/math-stuff.c:234: screen_point_out(&pb, &sb);
      000BEF 21 2A 00         [10] 1857 	ld	hl, #42
      000BF2 39               [11] 1858 	add	hl, sp
      000BF3 EB               [ 4] 1859 	ex	de, hl
      000BF4 21 20 00         [10] 1860 	ld	hl, #32
      000BF7 39               [11] 1861 	add	hl, sp
      000BF8 CDrCAr07         [17] 1862 	call	_screen_point_out
                                   1863 ;src/math-stuff.c:236: draw_line(sa.x, sa.y, sb.x, sb.y);
      000BFB DD 4E F4         [19] 1864 	ld	c, -12 (ix)
      000BFE DD 46 F5         [19] 1865 	ld	b, -11 (ix)
      000C01 DD 7E F2         [19] 1866 	ld	a, -14 (ix)
      000C04 DD 77 FB         [19] 1867 	ld	-5 (ix), a
      000C07 DD 7E F3         [19] 1868 	ld	a, -13 (ix)
      000C0A DD 77 FC         [19] 1869 	ld	-4 (ix), a
      000C0D DD 5E F0         [19] 1870 	ld	e, -16 (ix)
      000C10 DD 56 F1         [19] 1871 	ld	d, -15 (ix)
      000C13 DD 6E EE         [19] 1872 	ld	l, -18 (ix)
                                   1873 ;	spillPairReg hl
                                   1874 ;	spillPairReg hl
      000C16 DD 66 EF         [19] 1875 	ld	h, -17 (ix)
                                   1876 ;	spillPairReg hl
                                   1877 ;	spillPairReg hl
      000C19 C5               [11] 1878 	push	bc
      000C1A DD 4E FB         [19] 1879 	ld	c, -5 (ix)
      000C1D DD 46 FC         [19] 1880 	ld	b, -4 (ix)
      000C20 C5               [11] 1881 	push	bc
      000C21 CDr00r00         [17] 1882 	call	_draw_line
      000C24                       1883 00106$:
                                   1884 ;src/math-stuff.c:209: for (uint8_t i = 0; i < len; ++i) {
      000C24 DD 34 FF         [23] 1885 	inc	-1 (ix)
      000C27 C3r15r0A         [10] 1886 	jp	00129$
      000C2A                       1887 00108$:
                                   1888 ;src/math-stuff.c:204: for (uint16_t fi = 0; fi < fs_count; ++fi) {
      000C2A DD 34 FD         [23] 1889 	inc	-3 (ix)
      000C2D C2rB1r09         [10] 1890 	jp	NZ,00131$
      000C30 DD 34 FE         [23] 1891 	inc	-2 (ix)
      000C33 C3rB1r09         [10] 1892 	jp	00131$
      000C36                       1893 00132$:
                                   1894 ;src/math-stuff.c:239: }
      000C36 DD F9            [10] 1895 	ld	sp, ix
      000C38 DD E1            [14] 1896 	pop	ix
      000C3A C9               [10] 1897 	ret
                                   1898 	.area _TEXT
                                   1899 	.area _INITIALIZER
      000000                       1900 __xinit__dz:
      000000 00 03                 1901 	.dw #0x0300
      000002                       1902 __xinit__angle:
      000002 00 00                 1903 	.dw #0x0000
                                   1904 	.area _CABS (ABS)
